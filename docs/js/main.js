!function(t){function e(s){if(i[s])return i[s].exports;var h=i[s]={i:s,l:!1,exports:{}};return t[s].call(h.exports,h,h.exports,e),h.l=!0,h.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:s})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=29)}([function(t,e,i){"use strict";function s(){r.widthPx=r.width*o.pixelSize,r.heightPx=r.height*o.pixelSize,b.widthPx=b.width*o.pixelSize,b.heightPx=b.height*o.pixelSize,b.glowLengthPx=b.glowLength*o.pixelSize,b.widthPadded=b.width+2*b.glowLength,b.heightPadded=b.height+2*b.glowLength,b.widthPaddedPx=b.widthPx+2*b.glowLengthPx,b.heightPaddedPx=b.heightPx+2*b.glowLengthPx,y.shipPaddingPx=y.shipPadding*o.pixelSize,y.linePaddingPx=y.linePadding*o.pixelSize}function h(t,e,i){switch(t){case n.g.beveled:r.drawStyle=n.g.beveled;break;case"pixelSize":o.pixelSize=parseInt(e,10),s();break;case"font":f.font=e,p.font=e,m.font=e,x.font=e;break;case n.g.fps:c.showFPS=e||void 0===e;break;case n.g.sound:S.on=e||void 0===e}if(i){const i=localStorage.getItem("settings")?JSON.parse(localStorage.getItem("settings")):{};i[t]=e,localStorage.setItem("settings",JSON.stringify(i))}}var n=i(1);e.a=h;const o={pixelSize:3,screenWidth:480,screenHeight:600};e.b=o;const a={pixelSize:2,background:"#000011",maxStars:80,maxIntensity:80,hue:["#9BB0FF","#AABFFF","#CAD7FF","#F8F7FF","#FEF4EA"],beamFadeRate:15,minBeamIntensity:.1,initialBeamIntensity:.6,maxBeamLength:5};e.q=a;const r={width:7,height:5,minBits:7,maxBits:15,defaultColor:"#FFC905",drawStyle:n.g.regular};e.e=r;const c={preventSubPixelDrawing:!1,stickToPixelGrid:!1,showFPS:!1,systemInfoColor:"lime",systemInfoText:"10px sans-serif",maxFPS:60,minFPS:15,paletteSize:100,mask:[[["#000000",0],["#ffffff",25],["#ffffff",50]],[["#000000",25],["#000000",0],["#ffffff",25]],[["#000000",50],["#000000",25],["#000000",0]]]};e.h=c;const y={shipPadding:9,linePadding:3,get warpSpeed(){return o.screenHeight}};e.l=y;const d={defaultColor:"#9305ff",startingLives:3,maxLives:4,get speed(){return.3*o.screenWidth},get minTravelDistance(){return r.widthPx},respawnDelay:1e3};e.c=d;const l={itemsPerCanvas:10};e.g=l;const b={defaultColor:"#ffffff",glow:.2,glowDegradation:0,width:3,height:5,minBits:3,maxBits:4,armSteps:4,glowLength:1};e.j=b;const u={duration:300,minOpacity:20,spread:4};e.m=u;const g={defaultColor:"#ffffff",alignment:"left"};e.f=g;const f={font:"pressStart",fontSize:2,get paddingX(){return Math.round(.02*o.screenWidth)},get paddingY(){return Math.round(.02*o.screenHeight)},scoreDigits:4};e.d=f;const p={font:"pressStart",titleSize:3,menuItemSize:2,lineHeight:2,get cursorPadding(){return 2*o.pixelSize},get cursorSpeed(){return.3*o.screenHeight},color:"#ffffff",fadeSteps:8,transitionDuration:2500,scoreDigits:4};e.o=p;const w={key:"highScores",amount:5,predefinedScores:[1e3,500,250,100,10]};e.n=w;const m={size:20,font:"pressStart",color:"#ffffff",opacity:[75,100,75,50,25],duration:800};e.k=m;const x={font:"pressStart",titleSize:5,subtitleSize:2};e.i=x;const S={on:!1};e.p=S;const P=localStorage.getItem("settings")?JSON.parse(localStorage.getItem("settings")):{};Object.keys(P).forEach(t=>h(t,P[t])),s()},function(t,e,i){"use strict";var s=i(17),h=i(19),n=i(18),o=i(20);const a={oneTypePerLine:"one-type-per-line"};e.h=a;const r={left:"left",right:"right",up:"up",down:"down"};e.c=r;const c={keyDown:"keydown",keyUp:"keyup",visibilityChange:"visibilitychange",levelEntityCreated:"levelEntityCreated",levelEntityDestroyed:"levelEntityDestroyed",missile:"missiles",effect:"effects",formation:"formations",enemyDestroyed:"enemyDestroyed",shipListUpdate:"shipListUpdate",scoreUpdate:"scoreUpdate",gameOver:"gameOver",cursorRepositioned:"cursorRepositioned",menuToGameTransition:"menuToGameTransition",animationFrame:"menuToGameTransitionFrame",introOver:"introOver",gamePaused:"gamePaused",gameResumed:"gameResumed"};e.a=c;const y={arrowLeft:"ArrowLeft",arrowRight:"ArrowRight",arrowUp:"ArrowUp",arrowDown:"ArrowDown",enter:"Enter",space:" ",escape:"Escape"};e.b=y;const d={arming:"arming",armed:"armed",launched:"launched",destroyed:"destroyed"};e.d=d;const l={regular:"regular",beveled:"beveled",sound:"sound",fps:"fps"};e.g=l;const b={left:"left",right:"right",center:"center"};e.e=b;const u={pressStart:h.a,c64:s.a,gohufont:n.a,powerline:o.a};e.f=u},function(t,e,i){"use strict";function s(t,e=t){return t=1===arguments.length?1:t,t+Math.floor(Math.random()*(e-t+1))}function h(t,e){const i=[];for(let h=0;h<e;h+=1)i.push(s(t));return Math.max(...i)}function n(t){let e,i,h,n=t.slice(0);for(e=n.length-1;e>0;e--)i=s(0,e),h=n[e],n[e]=n[i],n[i]=h;return n}var o=i(10);i.d(e,"c",function(){return o.a}),i.d(e,"d",function(){return o.b}),i.d(e,"e",function(){return o.c}),i.d(e,"k",function(){return o.d});var a=i(9);i.d(e,"g",function(){return a.a});var r=i(27);i.d(e,"i",function(){return r.a});var c=i(26);i.d(e,"b",function(){return c});var y=i(11);i.d(e,"a",function(){return y});var d=i(28);i.d(e,"f",function(){return d.a}),e.h=s,e.l=h,e.j=n},function(t,e,i){"use strict";function s(t){if(a[t])return a[t];{const e=Object.create(c);return e.meta=n.f[t].meta,e.glyphs=Object.assign({},n.f[t].glyphs),Object.keys(e.glyphs).forEach(t=>{e.glyphs[t].width||e.meta.boundingBox.width;e.glyphs[t].sprites={},e.glyphs[t].bitmap=[];for(let i=0;i<e.glyphs[t].bytes.length;i+=1){e.glyphs[t].bitmap[i]=[];for(let s=0;s<8;s+=1)e.glyphs[t].bitmap[i][7-s]=(e.glyphs[t].bytes[i]>>s)%2}e.glyphs[t].width="width"in e.glyphs[t]?e.glyphs[t].width:e.meta.boundingBox.width,e.glyphs[t].height="height"in e.glyphs[t]?e.glyphs[t].height:e.meta.boundingBox.height,e.glyphs[t].x="x"in e.glyphs[t]?e.glyphs[t].x:e.meta.boundingBox.x,e.glyphs[t].y="y"in e.glyphs[t]?e.glyphs[t].y:e.meta.boundingBox.y,e.glyphs[t].dWidth="dWidth"in e.glyphs[t]?e.glyphs[t].dWidth:e.meta.boundingBox.width}),a[t]=e,e}}var h=i(0),n=i(1),o=i(2);e.a=s;const a=[],r=i.i(o.c)(h.b.pixelSize,h.b.pixelSize),c={meta:null,glyphs:null,write:function(t,e,i,s={}){let o=s.color||h.f.defaultColor,a=s.size||h.b.pixelSize,r=s.alignment||h.f.alignment,[c,y]=e.map(t=>Math.round(t)),d=c;switch(r){case n.e.center:let t=0;for(let e=0;e<i.length;e+=1)t+=this.glyphs[i[e]].dWidth*a;c-=Math.floor(t/2),d=c;break;case n.e.right:for(let e=0;e<i.length;e+=1)c-=this.glyphs[i[e]].dWidth*a;d=c}for(let l=0;l<i.length;l+=1)this.writeLetter(t,i[l],c,y,o,a),c+=this.glyphs[i[l]].dWidth*a;return{lineStart:d,lineEnd:c}},writeLetter(t,e,s,h,n,a){const r=n+"-"+a;this.glyphs[e].sprites[r]||this.drawLetter(this.glyphs[e],n,a),i.i(o.d)(t,this.glyphs[e].sprites[r].ctx,[s+this.glyphs[e].x*a,h-(this.glyphs[e].y+this.glyphs[e].height)*a],this.glyphs[e].sprites[r].coords,[this.meta.boundingBox.width*a,this.meta.boundingBox.height*a])},drawLetter(t,e,s){r.canvas.width!==this.meta.boundingBox.width*s&&(r.canvas.width=this.meta.boundingBox.width*s),r.canvas.height!==this.meta.boundingBox.height*s&&(r.canvas.height=this.meta.boundingBox.height*s),r.clearRect(0,0,this.meta.boundingBox.width*s,this.meta.boundingBox.height*s);for(let h=0;h<t.height;h+=1)for(let n=0;n<t.width;n+=1)t.bitmap[h]&&t.bitmap[h][n]&&i.i(o.e)(r,n*s,h*s,e,s);t.sprites[e+"-"+s]=i.i(o.f)(r)}}},function(t,e,i){"use strict";function s(){let t=[];const e=i.i(a.h)(o.e.minBits,o.e.maxBits),s=[];for(let h=0;h<c*o.e.height;h+=1)t.push(h<e);t=i.i(a.j)(t);for(let h=0;h<o.e.height;h+=1)for(let n=0;n<c;n+=1)s[h*o.e.width+n]=t[h*c+n],s[h*o.e.width+o.e.width-n-1]=t[h*c+n];return s}function h(t,e,i,s,h){const n=o.e.drawStyle===r.g.beveled?a.k:a.e;for(let c=0;c<o.e.height;c+=1)for(let y=0;y<o.e.width;y+=1)s[c*o.e.width+y]&&n(t,e+y*o.b.pixelSize,i+c*o.b.pixelSize,h)}function n(t={}){const e=Object.create(d);return e.color=t.color||e.color,e.blueprint=s(),y.clearRect(0,0,o.e.widthPx,o.e.heightPx),h(y,0,0,e.blueprint,e.color),e.sprite=i.i(a.f)(y),e}var o=i(0),a=i(2),r=i(1);e.b=s,e.c=h,e.a=n;const c=Math.ceil(o.e.width/2),y=i.i(a.c)(o.e.widthPx,o.e.heightPx),d={player:!1,blueprint:null,color:o.e.defaultColor,missileType:null,missile:null,formation:null,sprite:null,scoreValue:1,x:null,y:null,show:function(t,e=this.x,s=this.y){i.i(a.d)(t,this.sprite.ctx,[e,s],this.sprite.coords,[o.e.widthPx,o.e.heightPx])},behavior:function(){this.player&&this.missileType&&(!this.missile||this.missile.checkSafeDistance())&&this.armMissile()},armMissile:function(){this.missile&&!this.missile.checkSafeDistance()||(this.missile=Object.create(this.missileType),this.missile.launcher=this,this.missile.arm(),a.a.pub(r.a.levelEntityCreated,r.a.missile,this.missile))},fire:function(){this.missile&&this.missile.launch()},getCenter(){return[this.x+(this.formation?this.formation.x:0)+o.e.widthPx/2,this.y+(this.formation?this.formation.y:0)+o.e.heightPx/2]}}},function(t,e,i){"use strict";e.a={ships:"Ships:",score:"Score:",title:"Invaders",play:"Play game",highScores:"High scores",options:"Options",back:"Back",sound:"Sound: ",showFPS:"Show FPS: ",on:"On",off:"Off",paused:"Paused",pressToContinue:"Press [space] to continue"}},function(t,e,i){"use strict";function s(){const t=[];for(let e=0;e<a.n.predefinedScores.length;e+=1)t.push({color:a.e.defaultColor,blueprint:r.b(),score:a.n.predefinedScores[e]});localStorage.setItem(a.n.key,JSON.stringify(t))}function h(){null===localStorage.getItem(a.n.key)&&s()}function n(t){const e=JSON.parse(localStorage.getItem(a.n.key));return e.push(t),e.sort((t,e)=>e.score-t.score),e.splice(a.n.amount),localStorage.setItem(a.n.key,JSON.stringify(e)),e.indexOf(t)}function o(){return JSON.parse(localStorage.getItem(a.n.key))}var a=i(0),r=i(4);e.a=h,e.b=n,e.c=o},function(t,e,i){"use strict";function s(t,e){const i=Object.create(a);i.color=t.color,[i.x,i.y]=e?e.getCenter():t.getCenter(),i.particles=[];for(let s=0;s<n.e.height;s+=1)for(let h=0;h<n.e.width;h+=1)t.blueprint[s*n.e.width+h]&&i.particles.push({x:t.x+(t.formation?t.formation.x:0)+(h+.5)*n.b.pixelSize-i.x,y:t.y+(t.formation?t.formation.y:0)+(s+.5)*n.b.pixelSize-i.y});return i}var h=i(1),n=i(0),o=i(2);e.a=s;const a={particles:null,color:null,opacity:100,elapsedTime:0,spread:1,x:null,y:null,move:function(t){this.elapsedTime+=t,this.spread=1+(n.m.spread-1)*this.elapsedTime/n.m.duration,this.alpha=100-(100-n.m.minOpacity)*this.elapsedTime/n.m.duration,this.elapsedTime>n.m.duration&&o.a.pub(h.a.levelEntityDestroyed,h.a.effect,this)},show:function(t){this.particles.forEach(e=>{(n.e.drawStyle===h.g.beveled?o.k:o.e)(t,e.x*this.spread-n.b.pixelSize/2+this.x,e.y*this.spread-n.b.pixelSize/2+this.y,i.i(o.g)(this.color,this.alpha))})}}},function(t,e,i){"use strict";function s(t,e){return(e+n.j.glowLength)*n.j.widthPadded+t+n.j.glowLength}function h(t={}){const e=Object.create(d),h=i.i(a.h)(n.j.minBits,n.j.maxBits);e.color=t.color||e.color;let o=[];for(let l=0;l<c*y;l+=1)o.push(l<h);o=i.i(a.j)(o),e.blueprint=[],e.sprites=[];for(let l=0;l<y;l+=1)for(let b=0;b<c;b+=1)o[l*c+b]&&(e.blueprint[s(b,l)]=100,e.blueprint[s(n.j.width-1-b,l)]=100,e.blueprint[s(b,n.j.height-1-l)]=100,e.blueprint[s(n.j.width-1-b,n.j.height-1-l)]=100);for(let l=0;l<n.j.widthPadded*n.j.heightPadded;l+=1)if(100===e.blueprint[l])for(let b=1;b<=n.j.glowLength;b+=1){let t=100*(n.j.glow-n.j.glow*n.j.glowDegradation*(b-1));e.blueprint[l-b]=e.blueprint[l-b]||t,e.blueprint[l+b]=e.blueprint[l+b]||t,e.blueprint[l-n.j.widthPadded*b]=e.blueprint[l-n.j.widthPadded*b]||t,e.blueprint[l+n.j.widthPadded*b]=e.blueprint[l+n.j.widthPadded*b]||t}for(let b=0;b<n.j.armSteps;b+=1){r.clearRect(0,0,n.j.widthPaddedPx,n.j.heightPaddedPx);for(let t=0;t<n.j.widthPadded*n.j.heightPadded;t+=1)e.blueprint[t]&&i.i(a.e)(r,t%n.j.widthPadded*n.b.pixelSize,Math.floor(t/n.j.widthPadded)*n.b.pixelSize,i.i(a.g)(e.color,e.blueprint[t]*(b+1)/n.j.armSteps));e.sprites.push(i.i(a.f)(r))}return e}var n=i(0),o=i(1),a=i(2);e.a=h;const r=i.i(a.c)(n.j.widthPaddedPx,n.j.heightPaddedPx),c=Math.ceil(n.j.width/2),y=Math.ceil(n.j.height/2),d={speed:.2,color:n.j.defaultColor,launcher:null,sprites:null,armStart:null,armProgress:0,armSpeed:1e3,scoreValue:1,status:null,x:null,y:null,show:function(t,e=this.x,s=this.y){i.i(a.d)(t,this.sprites[this.armProgress].ctx,[e-n.j.glowLengthPx,s-n.j.glowLengthPx],this.sprites[this.armProgress].coords,[n.j.widthPaddedPx,n.j.heightPaddedPx])},alignWithShipX(){this.x=this.launcher.x+(n.e.widthPx-n.j.widthPx)/2,this.x+=this.launcher.formation?this.launcher.formation.x:0},alignWithShipY(){this.launcher.player?this.y=this.launcher.y+(n.e.heightPx-n.j.heightPx)/2:this.y=this.launcher.formation.y+this.launcher.y-(n.e.heightPx-n.j.heightPx)/2},arm:function(){this.alignWithShipX(),this.alignWithShipY(),this.armStart=Date.now(),this.status=o.d.arming},launch(){this.status===o.d.armed&&(this.status=o.d.launched)},behavior:function(){this.status===o.d.arming&&(this.armProgress=Math.min(Math.floor((Date.now()-this.armStart)/(this.armSpeed/n.j.armSteps)),n.j.armSteps-1),this.armProgress===n.j.armSteps-1&&(this.status=o.d.armed,this.launcher.barrage&&this.launch()))},move:function(t){this.status!==o.d.launched&&this.alignWithShipY(),this.status===o.d.launched&&this.checkSafeDistance()||this.alignWithShipX(),this.status===o.d.launched&&(this.y+=this.speed*n.b.screenHeight*t/1e3*(this.launcher.player?-1:1)),(this.y<-n.j.heightPaddedPx||this.y>n.b.screenHeight)&&this.destroy()},checkSafeDistance:function(){return this.status===o.d.launched&&Math.abs(this.launcher.y+(this.launcher.formation?this.launcher.formation.y:0)-this.y)>n.j.heightPaddedPx},destroy:function(){this.status=o.d.destroyed,a.a.pub(o.a.levelEntityDestroyed,o.a.missile,this),this.launcher.missile===this&&(this.launcher.missile=null)},getCenter:function(){return[this.x+n.j.widthPx/2,this.y+n.j.heightPx/2]}}},function(t,e,i){"use strict";function s(t,e){return`rgba(${parseInt(t.substr(1,2),16)}, ${parseInt(t.substr(3,2),16)}, ${parseInt(t.substr(5,2),16)}, ${e/100})`}e.a=s},function(t,e,i){"use strict";function s(t=a.b.screenWidth,e=a.b.screenHeight){const i=document.createElement("canvas");return i.width=t,i.height=e,i.getContext("2d")}function h(t,e,i,s,h=a.b.pixelSize){t.fillStyle=s,t.fillRect(e,i,h,h)}function n(t,e,i,s,h){a.h.preventSubPixelDrawing&&(i=i.map(t=>Math.floor(t))),a.h.stickToPixelGrid&&(i=i.map(t=>t-t%a.b.pixelSize)),s&&h?t.drawImage(e.canvas,...s,...h,...i,...h):t.drawImage(e.canvas,...i)}function o(t,e,i,s){y[s]||(d+=1,y[s]=d,c.fillStyle=s,c.fillRect(d*a.b.pixelSize,0,a.b.pixelSize,a.b.pixelSize),n(c,c,[a.b.pixelSize*d,0],[0,0],[a.b.pixelSize,a.b.pixelSize])),n(t,c,[e,i],[y[s]*a.b.pixelSize,0],[a.b.pixelSize,a.b.pixelSize])}var a=i(0),r=i(9);e.a=s,e.c=h,e.b=n,e.d=o;const c=s(a.b.pixelSize*a.h.paletteSize,a.b.pixelSize),y={transparent:0};let d=0;a.h.mask.forEach((t,e)=>t.forEach((t,s)=>{c.fillStyle=i.i(r.a)(...t),c.fillRect(s,e,1,1)}))},function(t,e,i){"use strict";function s(t,...e){o[t]&&o[t].forEach(t=>t(...e))}function h(t,e){o[t]=o[t]||[],o[t].push(e)}function n(t){let e;for(let i in o)e=o[i].indexOf(t),e>=0&&(o[i].splice(e,1),o[i].length||delete o[i])}Object.defineProperty(e,"__esModule",{value:!0}),e.pub=s,e.on=h,e.off=n;const o={}},function(t,e,i){"use strict";function s(t){if(!j)switch(t){case p.b.arrowLeft:P.moving||(P.plannedTravel=f.c.minTravelDistance),P.moving=!0,k=!0,P.direction=p.c.left;break;case p.b.arrowRight:P.moving||(P.plannedTravel=f.c.minTravelDistance),P.moving=!0,B=!0,P.direction=p.c.right;break;case p.b.space:P.setBarrage(!0),P.fire();break;case p.b.escape:w.a.pub(p.a.gamePaused)}}function h(t){switch(t){case p.b.arrowLeft:k=!1,P.direction===p.c.left&&(P.moving=!1);break;case p.b.arrowRight:B=!1,P.moving=k||B;break;case p.b.space:P.setBarrage(!1)}}function n(t,e){v[t].push(e)}function o(t,e){v[t].splice(v[t].indexOf(e),1)}function a(t){P.score+=t.scoreValue,w.a.pub(p.a.scoreUpdate,P.score)}function r(){P.currentShip&&!P.lastShip&&(P.lastShip=P.currentShip),z=!0}function c(){C=!1,x.a()}function y(){j=!0}function d(){j=!1}function l(){document.hidden&&w.a.pub(p.a.gamePaused)}function b(t,e){k=!1,B=!1,z=!1,w.a.on(p.a.keyDown,s),w.a.on(p.a.keyUp,h),w.a.on(p.a.levelEntityCreated,n),w.a.on(p.a.levelEntityDestroyed,o),w.a.on(p.a.enemyDestroyed,a),w.a.on(p.a.gameOver,r),w.a.on(p.a.gamePaused,y),w.a.on(p.a.gameResumed,d),w.a.on(p.a.introOver,c),P=t.player,v=t.level,P.currentShip.armMissile(),S=e,m.a(P),x.b(v.number),C=!0,document.addEventListener(p.a.visibilityChange,l)}function u(){[s,h,n,o,a,r,c,y,d].forEach(t=>w.a.off(t)),m.b(),x.a(),v.missiles.forEach(t=>t.destroy()),document.removeEventListener(p.a.visibilityChange,l)}function g(t){return C?w.a.pub(p.a.animationFrame,t):(v.missiles.filter(t=>t.status===p.d.launched).forEach(t=>{t.launcher.player?v.formations.forEach(e=>e.checkCollisions(t)):P.checkCollisions(t)}),v.formations.forEach(e=>{e.behavior(),e.ships.forEach(t=>t.behavior()),e.move(t)}),P.behavior(),P.move(t),v.missiles.forEach(e=>{e.behavior(),e.move(t)}),v.effects.forEach(e=>e.move(t)),v.missiles.forEach(t=>t.show(S)),v.formations.forEach(t=>t.show(S)),v.effects.forEach(t=>t.show(S))),P.show(S),!z&&(v.formations.length||v.events.length)||v.effects.length?null:{player:P,level:v,gameOver:z}}Object.defineProperty(e,"__esModule",{value:!0});var f=i(0),p=i(1),w=i(2),m=i(22),x=i(23);e.init=b,e.end=u,e.drawFrame=g;let S,P,v,z,j,k,B,C},function(t,e,i){"use strict";function s(t,e){const i=l.a(t);u=t.player,b=e,g={x:i.x,y:i.y-d.e.heightPx},f=g.y,c.a.on(y.a.cursorRepositioned,o),c.a.on(y.a.menuToGameTransition,a),p=!1}function h(){c.a.off(o),c.a.off(a),l.b()}function n(t){if(r(t))return{player:u};p&&c.a.pub(y.a.animationFrame,t),u.show(b,g.x,g.y)}function o(t){f=t-d.e.heightPx}function a(){p=!0}function r(t){if(p)if(g.y!==u.y)g.y=Math.min(g.y+d.c.speed*t/1e3,u.y);else{if(g.x===u.x)return!0;g.x=Math.min(g.x+d.c.speed*t/1e3,u.x)}else g.y!==f&&(g.y<f?g.y=Math.min(g.y+d.o.cursorSpeed*t/1e3,f):g.y=Math.max(g.y-d.o.cursorSpeed*t/1e3,f))}Object.defineProperty(e,"__esModule",{value:!0});var c=i(2),y=i(1),d=i(0),l=i(24);e.init=s,e.end=h,e.drawFrame=n;let b,u,g,f,p},function(t,e,i){"use strict";function s(t){const e={number:t,formations:[],missiles:[],events:[],effects:[]};return e.formations.push(n.a({levelNumber:t,width:Math.floor(h.b.screenWidth/(h.e.widthPx+h.l.shipPaddingPx)*.7),height:6,shipTypes:6,shipArrangement:o.h.oneTypePerLine})),e}var h=i(0),n=i(21),o=i(1);e.a=s},function(t,e,i){"use strict";function s(){const t=Object.create(y);t.extraShips=[];for(let e=0;e<h.c.startingLives;e+=1){const e=o.a(d);e.player=!0,e.x=Math.floor(h.b.screenWidth/2-h.e.widthPx/2),e.y=Math.floor(h.b.screenHeight-1.5*h.e.heightPx),e.missileType=a.a(),e.missileType.launcher=e,t.extraShips.push(e)}return t.currentShip=t.extraShips.pop(),t}var h=i(0),n=i(1),o=i(4),a=i(8),r=i(7),c=i(2);e.a=s;const y={score:0,currentShip:null,extraShips:null,direction:null,plannedTravel:0,moving:!1,speed:h.c.speed,get x(){return this.currentShip&&this.currentShip.x},get y(){return this.currentShip&&this.currentShip.y},show:function(t,e,i){this.currentShip&&this.currentShip.show(t,e,i)},behavior:function(){this.currentShip&&this.currentShip.behavior()},move:function(t){if(this.currentShip)if(this.moving||this.plannedTravel>0){let e=this.speed*t/1e3;switch(this.direction){case n.c.left:this.currentShip.x-=e;break;case n.c.right:this.currentShip.x+=e}this.currentShip.x<0&&(this.currentShip.x=0),this.currentShip.x>h.b.screenWidth-h.e.widthPx&&(this.currentShip.x=h.b.screenWidth-h.e.widthPx),this.plannedTravel-=e}else this.currentShip.x=Math.round(this.currentShip.x)},fire(){this.currentShip&&this.currentShip.fire()},setBarrage(t){this.currentShip&&(this.currentShip.barrage=t)},checkCollisions(t){this.currentShip&&i.i(c.i)(t.x,t.y,this.currentShip.x,this.currentShip.y)&&(t.destroy(),this.currentShip.missile&&this.currentShip.missile.status!==n.d.launched?(c.a.pub(n.a.levelEntityCreated,n.a.effect,r.a(this.currentShip)),c.a.pub(n.a.levelEntityCreated,n.a.effect,r.a(this.currentShip.missile)),this.currentShip.missile.destroy()):c.a.pub(n.a.levelEntityCreated,n.a.effect,r.a(this.currentShip,t)),this.extraShips.length?(this.currentShip=null,setTimeout(()=>{this.currentShip=this.extraShips.pop(),c.a.pub(n.a.shipListUpdate,this.extraShips)},h.c.respawnDelay),c.a.pub(n.a.shipListUpdate,this.extraShips)):(this.lastShip=this.currentShip,c.a.pub(n.a.gameOver),this.currentShip=null))}},d={color:h.c.defaultColor}},function(t,e,i){"use strict";function s(){const t=h.q.pixelSize||h.b.pixelSize,e=Object.create(o);e.ctx.canvas.width=h.b.screenWidth,e.ctx.canvas.height=h.b.screenHeight,e.stars=[];const s=i.i(n.l)(h.q.maxStars,2);for(let a=0;a<s;a+=1){const s={x:i.i(n.h)(h.q.maxBeamLength,h.b.screenWidth/t-2*h.q.maxBeamLength-1),y:i.i(n.h)(h.q.maxBeamLength,h.b.screenHeight/t-2*h.q.maxBeamLength-1),intensity:i.i(n.h)(h.q.maxIntensity),hue:h.q.hue[i.i(n.h)(0,h.q.hue.length-1)]};e.stars.push(s)}return e.draw(),e}var h=i(0),n=i(2);e.a=s;const o={ctx:i.i(n.c)(),draw:function(){const t=h.q.pixelSize||h.b.pixelSize;this.ctx.fillStyle=h.q.background,this.ctx.fillRect(0,0,h.b.screenWidth,h.b.screenHeight),this.stars.forEach(e=>{i.i(n.e)(this.ctx,e.x*t,e.y*t,i.i(n.g)(e.hue,e.intensity),t);let s=0,o=e.intensity*h.q.initialBeamIntensity;for(;o>h.q.minBeamIntensity&&s<=h.q.maxBeamLength;)i.i(n.e)(this.ctx,(e.x-s)*t,e.y*t,i.i(n.g)(e.hue,o),t),i.i(n.e)(this.ctx,(e.x+s)*t,e.y*t,i.i(n.g)(e.hue,o),t),i.i(n.e)(this.ctx,e.x*t,(e.y-s)*t,i.i(n.g)(e.hue,o),t),i.i(n.e)(this.ctx,e.x*t,(e.y+s)*t,i.i(n.g)(e.hue,o),t),s+=1,o=e.intensity*h.q.initialBeamIntensity-s*h.q.beamFadeRate})},show:function(t){i.i(n.d)(t,this.ctx,[0,0])}}},function(t,e,i){"use strict";const s={meta:{name:"c64",points:8,properties:{fontDescent:2,fontAscent:6,defaultChar:0},boundingBox:{width:8,height:8,x:0,y:-2}},glyphs:{0:{bytes:[60,102,110,118,102,102,60,0]},1:{bytes:[24,24,56,24,24,24,126,0]},2:{bytes:[60,102,6,12,48,96,126,0]},3:{bytes:[60,102,6,28,6,102,60,0]},4:{bytes:[6,14,30,102,127,6,6,0]},5:{bytes:[126,96,124,6,6,102,60,0]},6:{bytes:[60,102,96,124,102,102,60,0]},7:{bytes:[126,102,12,24,24,24,24,0]},8:{bytes:[60,102,102,60,102,102,60,0]},9:{bytes:[60,102,102,62,6,102,60,0]}," ":{bytes:[0,0,0,0,0,0,0,0]},"!":{bytes:[24,24,24,24,0,0,24,0]},'"':{bytes:[102,102,102,0,0,0,0,0]},"#":{bytes:[102,102,255,102,255,102,102,0]},$:{bytes:[24,62,96,60,6,124,24,0]},"%":{bytes:[98,102,12,24,48,102,70,0]},"&":{bytes:[60,102,60,56,103,102,63,0]},"'":{bytes:[6,12,24,0,0,0,0,0]},"(":{bytes:[12,24,48,48,48,24,12,0]},")":{bytes:[48,24,12,12,12,24,48,0]},"*":{bytes:[0,102,60,255,60,102,0,0]},"+":{bytes:[0,24,24,126,24,24,0,0]},",":{bytes:[0,0,0,0,0,24,24,48]},"-":{bytes:[0,0,0,126,0,0,0,0]},".":{bytes:[0,0,0,0,0,24,24,0]},"/":{bytes:[0,3,6,12,24,48,96,0]},":":{bytes:[0,0,24,0,0,24,0,0]},";":{bytes:[0,0,24,0,0,24,24,48]},"<":{bytes:[14,24,48,96,48,24,14,0]},"=":{bytes:[0,0,126,0,126,0,0,0]},">":{bytes:[112,24,12,6,12,24,112,0]},"?":{bytes:[60,102,6,12,24,0,24,0]},"@":{bytes:[60,102,110,110,96,98,60,0]},A:{bytes:[24,60,102,126,102,102,102,0]},B:{bytes:[124,102,102,124,102,102,124,0]},C:{bytes:[60,102,96,96,96,102,60,0]},D:{bytes:[120,108,102,102,102,108,120,0]},E:{bytes:[126,96,96,120,96,96,126,0]},F:{bytes:[126,96,96,120,96,96,96,0]},G:{bytes:[60,102,96,110,102,102,60,0]},H:{bytes:[102,102,102,126,102,102,102,0]},I:{bytes:[60,24,24,24,24,24,60,0]},J:{bytes:[30,12,12,12,12,108,56,0]},K:{bytes:[102,108,120,112,120,108,102,0]},L:{bytes:[96,96,96,96,96,96,126,0]},M:{bytes:[99,119,127,107,99,99,99,0]},N:{bytes:[102,118,126,126,110,102,102,0]},O:{bytes:[60,102,102,102,102,102,60,0]},P:{bytes:[124,102,102,124,96,96,96,0]},Q:{bytes:[60,102,102,102,102,60,14,0]},R:{bytes:[124,102,102,124,120,108,102,0]},S:{bytes:[60,102,96,60,6,102,60,0]},T:{bytes:[126,24,24,24,24,24,24,0]},U:{bytes:[102,102,102,102,102,102,60,0]},V:{bytes:[102,102,102,102,102,60,24,0]},W:{bytes:[99,99,99,107,127,119,99,0]},X:{bytes:[102,102,60,24,60,102,102,0]},Y:{bytes:[102,102,102,60,24,24,24,0]},Z:{bytes:[126,6,12,24,48,96,126,0]},"[":{bytes:[60,48,48,48,48,48,60,0]},"\\":{bytes:[0,96,48,24,12,6,3,0]},"]":{bytes:[60,12,12,12,12,12,60,0]},"^":{bytes:[0,24,60,126,24,24,24,24]},_:{bytes:[0,0,0,0,0,0,0,255]},"`":{bytes:[96,48,24,0,0,0,0,0]},a:{bytes:[0,0,60,6,62,102,62,0]},b:{bytes:[0,96,96,124,102,102,124,0]},c:{bytes:[0,0,60,96,96,96,60,0]},d:{bytes:[0,6,6,62,102,102,62,0]},e:{bytes:[0,0,60,102,126,96,60,0]},f:{bytes:[0,14,24,62,24,24,24,0]},g:{bytes:[0,0,62,102,102,62,6,124]},h:{bytes:[0,96,96,124,102,102,102,0]},i:{bytes:[0,24,0,56,24,24,60,0]},j:{bytes:[0,6,0,6,6,6,6,60]},k:{bytes:[0,96,96,108,120,108,102,0]},l:{bytes:[0,56,24,24,24,24,60,0]},m:{bytes:[0,0,102,127,127,107,99,0]},n:{bytes:[0,0,124,102,102,102,102,0]},o:{bytes:[0,0,60,102,102,102,60,0]},p:{bytes:[0,0,124,102,102,124,96,96]},q:{bytes:[0,0,62,102,102,62,6,6]},r:{bytes:[0,0,124,102,96,96,96,0]},s:{bytes:[0,0,62,96,60,6,124,0]},t:{bytes:[0,24,126,24,24,24,14,0]},u:{bytes:[0,0,102,102,102,102,62,0]},v:{bytes:[0,0,102,102,102,60,24,0]},w:{bytes:[0,0,99,107,127,62,54,0]},x:{bytes:[0,0,102,60,24,60,102,0]},y:{bytes:[0,0,102,102,102,62,12,120]},z:{bytes:[0,0,126,12,24,48,126,0]},"{":{bytes:[28,48,48,96,48,48,28,0]},"|":{bytes:[24,24,24,24,24,24,24,24]},"}":{bytes:[56,12,12,6,12,12,56,0]},"~":{bytes:[0,50,76,0,0,0,0,0]}}};e.a=s},function(t,e,i){"use strict";const s={meta:{name:"-Gohu-GohuFont-Medium-R-Normal--11-80-100-100-C-60-ISO8859-1",points:11,properties:{fontAscent:9,fontDescent:2},boundingBox:{width:6,height:11,x:0,y:-2}},glyphs:{0:{bytes:[112,136,152,168,200,136,112],width:5,height:7,y:0},1:{bytes:[32,96,160,32,32,32,32],width:3,height:7,y:0},2:{bytes:[112,136,8,16,32,64,248],width:5,height:7,y:0},3:{bytes:[112,136,8,48,8,136,112],width:5,height:7,y:0},4:{bytes:[16,48,80,144,248,16,16],width:5,height:7,y:0},5:{bytes:[248,128,240,8,8,136,112],width:5,height:7,y:0},6:{bytes:[112,128,240,136,136,136,112],width:5,height:7,y:0},7:{bytes:[248,8,16,16,32,32,32],width:5,height:7,y:0},8:{bytes:[112,136,136,112,136,136,112],width:5,height:7,y:0},9:{bytes:[112,136,136,120,8,8,112],width:5,height:7,y:0}," ":{bytes:[],width:0,height:0,y:0},"!":{bytes:[128,128,128,128,128,128,0,128],width:1,height:8,x:2,y:0},'"':{bytes:[160,160,160],width:3,height:3,x:1,y:5},"#":{bytes:[80,80,248,80,248,80,80],width:5,height:7,y:1},$:{bytes:[32,112,168,160,112,40,168,112,32],width:5,height:9,y:-1},"%":{bytes:[72,168,80,32,80,168,144],width:5,height:7,y:0},"&":{bytes:[96,144,160,64,168,144,104],width:5,height:7,y:0},"'":{bytes:[128,128,128],width:1,height:3,x:2,y:5},"(":{bytes:[32,64,64,128,128,128,64,64,32],width:3,height:9,x:1,y:-1},")":{bytes:[128,64,64,32,32,32,64,64,128],width:3,height:9,x:1,y:-1},"*":{bytes:[32,168,112,168,32],width:5,height:5,y:1},"+":{bytes:[32,32,248,32,32],width:5,height:5,y:1},",":{bytes:[192,192,64,128],width:2,height:4,x:1},"-":{bytes:[248],width:5,height:1,y:3},".":{bytes:[192,192],width:2,height:2,x:1,y:0},"/":{bytes:[8,8,16,16,32,32,64,64,128,128],width:5,height:10},":":{bytes:[192,192,0,192,192],width:2,height:5,x:2,y:0},";":{bytes:[192,192,0,192,192,64,128],width:2,height:7,x:1},"<":{bytes:[16,32,64,128,64,32,16],width:4,height:7,x:1,y:0},"=":{bytes:[248,0,248],width:5,height:3,y:2},">":{bytes:[128,64,32,16,32,64,128],width:4,height:7,x:1,y:0},"?":{bytes:[112,136,8,16,32,0,32],width:5,height:7,y:0},"@":{bytes:[112,136,184,168,184,128,120],width:5,height:7,y:0},A:{bytes:[112,136,136,248,136,136,136,136],width:5,height:8,y:0},B:{bytes:[240,136,136,240,136,136,136,240],width:5,height:8,y:0},C:{bytes:[112,136,128,128,128,128,136,112],width:5,height:8,y:0},D:{bytes:[240,136,136,136,136,136,136,240],width:5,height:8,y:0},E:{bytes:[248,128,128,240,128,128,128,248],width:5,height:8,y:0},F:{bytes:[248,128,128,240,128,128,128,128],width:5,height:8,y:0},G:{bytes:[112,136,128,184,136,136,136,112],width:5,height:8,y:0},H:{bytes:[136,136,136,248,136,136,136,136],width:5,height:8,y:0},I:{bytes:[224,64,64,64,64,64,64,224],width:3,height:8,x:1,y:0},J:{bytes:[8,8,8,8,8,136,136,112],width:5,height:8,y:0},K:{bytes:[136,144,160,192,160,144,136,136],width:5,height:8,y:0},L:{bytes:[128,128,128,128,128,128,128,248],width:5,height:8,y:0},M:{bytes:[136,216,168,168,136,136,136,136],width:5,height:8,y:0},N:{bytes:[136,200,200,168,168,152,152,136],width:5,height:8,y:0},O:{bytes:[112,136,136,136,136,136,136,112],width:5,height:8,y:0},P:{bytes:[240,136,136,240,128,128,128,128],width:5,height:8,y:0},Q:{bytes:[112,136,136,136,136,168,144,104,8],width:5,height:9,y:-1},R:{bytes:[240,136,136,240,144,136,136,136],width:5,height:8,y:0},S:{bytes:[112,136,128,112,8,8,136,112],width:5,height:8,y:0},T:{bytes:[248,32,32,32,32,32,32,32],width:5,height:8,y:0},U:{bytes:[136,136,136,136,136,136,136,112],width:5,height:8,y:0},V:{bytes:[136,136,136,136,80,80,32,32],width:5,height:8,y:0},W:{bytes:[136,136,136,168,168,168,80,80],width:5,height:8,y:0},X:{bytes:[136,136,80,32,80,136,136,136],width:5,height:8,y:0},Y:{bytes:[136,136,80,32,32,32,32,32],width:5,height:8,y:0},Z:{bytes:[248,8,16,32,64,128,128,248],width:5,height:8,y:0},"[":{bytes:[224,128,128,128,128,128,128,128,224],width:3,height:9,x:2,y:-1},"\\":{bytes:[128,128,64,64,32,32,16,16,8,8],width:5,height:10,x:1},"]":{bytes:[224,32,32,32,32,32,32,32,224],width:3,height:9,y:-1},"^":{bytes:[32,80,136],width:5,height:3,y:4},_:{bytes:[252],height:1,y:-1},"`":{bytes:[128,64,32],width:3,height:3,x:1,y:5},a:{bytes:[112,8,120,136,120],width:5,height:5,y:0},b:{bytes:[128,128,128,176,200,136,136,240],width:5,height:8,y:0},c:{bytes:[120,128,128,128,120],width:5,height:5,y:0},d:{bytes:[8,8,8,120,136,136,152,104],width:5,height:8,y:0},e:{bytes:[112,136,248,128,120],width:5,height:5,y:0},f:{bytes:[96,128,128,224,128,128,128,128],width:3,height:8,x:1,y:0},g:{bytes:[120,136,136,152,104,8,112],width:5,height:7},h:{bytes:[128,128,128,176,200,136,136,136],width:5,height:8,y:0},i:{bytes:[64,0,192,64,64,64,96],width:3,height:7,x:1,y:0},j:{bytes:[32,0,96,32,32,32,32,32,192],width:3,height:9},k:{bytes:[128,128,128,144,160,224,144,136],width:5,height:8,y:0},l:{bytes:[192,64,64,64,64,64,64,48],width:4,height:8,x:1,y:0},m:{bytes:[240,168,168,168,168],width:5,height:5,y:0},n:{bytes:[240,136,136,136,136],width:5,height:5,y:0},o:{bytes:[112,136,136,136,112],width:5,height:5,y:0},p:{bytes:[176,200,136,136,240,128,128],width:5,height:7},q:{bytes:[120,136,136,152,104,8,8],width:5,height:7},r:{bytes:[176,200,128,128,128],width:5,height:5,y:0},s:{bytes:[112,128,112,8,240],width:5,height:5,y:0},t:{bytes:[64,64,64,240,64,64,64,48],width:4,height:8,y:0},u:{bytes:[136,136,136,152,104],width:5,height:5,y:0},v:{bytes:[136,136,80,80,32],width:5,height:5,y:0},w:{bytes:[136,168,168,168,80],width:5,height:5,y:0},x:{bytes:[136,80,32,80,136],width:5,height:5,y:0},y:{bytes:[136,136,136,152,104,8,112],width:5,height:7},z:{bytes:[248,16,32,64,248],width:5,height:5,y:0},"{":{bytes:[24,32,32,32,32,192,32,32,32,32,24]},"|":{bytes:[128,128,128,128,128,128,128,128,128],width:1,height:9,x:2,y:-1},"}":{bytes:[192,32,32,32,32,24,32,32,32,32,192]},"~":{bytes:[64,168,16],width:5,height:3,y:2}}};e.a=s},function(t,e,i){"use strict";const s={meta:{name:"Press-Start",points:8,properties:{fontAscent:8,fontDescent:0},boundingBox:{width:8,height:8,x:0,y:0}},glyphs:{0:{bytes:[56,76,198,198,198,100,56],width:7,height:7,y:1},1:{bytes:[48,112,48,48,48,48,252],width:6,height:7,x:1,y:1},2:{bytes:[124,198,14,60,120,224,254],width:7,height:7,y:1},3:{bytes:[126,12,24,60,6,198,124],width:7,height:7,y:1},4:{bytes:[28,60,108,204,254,12,12],width:7,height:7,y:1},5:{bytes:[252,192,252,6,6,198,124],width:7,height:7,y:1},6:{bytes:[60,96,192,252,198,198,124],width:7,height:7,y:1},7:{bytes:[254,198,12,24,48,48,48],width:7,height:7,y:1},8:{bytes:[120,196,228,120,158,134,124],width:7,height:7,y:1},9:{bytes:[124,198,198,126,6,12,120],width:7,height:7,y:1}," ":{bytes:[0],width:1,height:1},"!":{bytes:[224,224,224,192,192,0,192],width:3,height:7,x:2,y:1},'"':{bytes:[216,216,216],width:5,height:3,x:1,y:5},"#":{bytes:[108,254,108,108,108,254,108],width:7,height:7,y:1},$:{bytes:[16,124,208,124,22,252,16],width:7,height:7,y:1},"%":{bytes:[98,164,200,16,38,74,140],width:7,height:7,y:1},"&":{bytes:[112,216,216,112,218,204,126],width:7,height:7,y:1},"'":{bytes:[192,192,192],width:2,height:3,x:2,y:5},"(":{bytes:[48,96,192,192,192,96,48],width:4,height:7,x:2,y:1},")":{bytes:[192,96,48,48,48,96,192],width:4,height:7,x:1,y:1},"*":{bytes:[108,56,254,56,108],width:7,height:5,y:2},"+":{bytes:[48,48,252,48,48],width:6,height:5,x:1,y:2},",":{bytes:[96,96,192],width:3,height:3,x:1},"-":{bytes:[252],width:6,height:1,x:1,y:4},".":{bytes:[192,192],width:2,height:2,x:2,y:1},"/":{bytes:[2,4,8,16,32,64,128],width:7,height:7,y:1},":":{bytes:[192,192,0,192,192],width:2,height:5,x:2,y:2},";":{bytes:[96,96,0,96,96,192],width:3,height:6,x:1,y:1},"<":{bytes:[24,48,96,192,96,48,24],width:5,height:7,x:1,y:1},"=":{bytes:[254,0,254],width:7,height:3,y:3},">":{bytes:[192,96,48,24,48,96,192],width:5,height:7,x:1,y:1},"?":{bytes:[124,254,198,12,56,0,56],width:7,height:7,y:1},"@":{bytes:[124,130,186,170,190,128,124],width:7,height:7,y:1},A:{bytes:[56,108,198,198,254,198,198],width:7,height:7,y:1},B:{bytes:[252,198,198,252,198,198,252],width:7,height:7,y:1},C:{bytes:[60,102,192,192,192,102,60],width:7,height:7,y:1},D:{bytes:[248,204,198,198,198,204,248],width:7,height:7,y:1},E:{bytes:[254,192,192,252,192,192,254],width:7,height:7,y:1},F:{bytes:[254,192,192,252,192,192,192],width:7,height:7,y:1},G:{bytes:[62,96,192,206,198,102,62],width:7,height:7,y:1},H:{bytes:[198,198,198,254,198,198,198],width:7,height:7,y:1},I:{bytes:[252,48,48,48,48,48,252],width:6,height:7,x:1,y:1},J:{bytes:[6,6,6,6,6,198,124],width:7,height:7,y:1},K:{bytes:[198,204,216,240,248,220,206],width:7,height:7,y:1},L:{bytes:[192,192,192,192,192,192,252],width:6,height:7,x:1,y:1},M:{bytes:[198,238,254,254,214,198,198],width:7,height:7,y:1},N:{bytes:[198,230,246,254,222,206,198],width:7,height:7,y:1},O:{bytes:[124,198,198,198,198,198,124],width:7,height:7,y:1},P:{bytes:[252,198,198,198,252,192,192],width:7,height:7,y:1},Q:{bytes:[124,198,198,198,222,204,122],width:7,height:7,y:1},R:{bytes:[252,198,198,206,248,220,206],width:7,height:7,y:1},S:{bytes:[120,204,192,124,6,198,124],width:7,height:7,y:1},T:{bytes:[252,48,48,48,48,48,48],width:6,height:7,x:1,y:1},U:{bytes:[198,198,198,198,198,198,124],width:7,height:7,y:1},V:{bytes:[198,198,198,238,124,56,16],width:7,height:7,y:1},W:{bytes:[198,198,214,254,254,238,198],width:7,height:7,y:1},X:{bytes:[198,238,124,56,124,238,198],width:7,height:7,y:1},Y:{bytes:[204,204,204,120,48,48,48],width:6,height:7,x:1,y:1},Z:{bytes:[254,14,28,56,112,224,254],width:7,height:7,y:1},"[":{bytes:[240,192,192,192,192,192,240],width:4,height:7,x:2,y:1},"\\":{bytes:[128,64,32,16,8,4,2],width:7,height:7,y:1},"]":{bytes:[240,48,48,48,48,48,240],width:4,height:7,x:1,y:1},"^":{bytes:[112,216],width:5,height:2,x:1,y:6},_:{bytes:[254],width:7,height:1},"`":{bytes:[128,64],width:2,height:2,x:3,y:6},a:{bytes:[124,6,126,198,126],width:7,height:5,y:1},b:{bytes:[192,192,252,198,198,198,124],width:7,height:7,y:1},c:{bytes:[126,192,192,192,126],width:7,height:5,y:1},d:{bytes:[6,6,126,198,198,198,126],width:7,height:7,y:1},e:{bytes:[124,198,254,192,124],width:7,height:5,y:1},f:{bytes:[28,48,252,48,48,48,48],width:6,height:7,x:1,y:1},g:{bytes:[126,198,198,126,6,124],width:7,height:6},h:{bytes:[192,192,252,198,198,198,198],width:7,height:7,y:1},i:{bytes:[48,0,112,48,48,48,252],width:6,height:7,x:1,y:1},j:{bytes:[24,0,56,24,24,24,24,240],width:5,x:1},k:{bytes:[192,192,206,252,248,220,206],width:7,height:7,y:1},l:{bytes:[112,48,48,48,48,48,252],width:6,height:7,x:1,y:1},m:{bytes:[252,182,182,182,182],width:7,height:5,y:1},n:{bytes:[252,198,198,198,198],width:7,height:5,y:1},o:{bytes:[124,198,198,198,124],width:7,height:5,y:1},p:{bytes:[252,198,198,252,192,192],width:7,height:6},q:{bytes:[126,198,198,126,6,6],width:7,height:6},r:{bytes:[220,224,192,192,192],width:6,height:5,x:1,y:1},s:{bytes:[124,192,124,6,252],width:7,height:5,y:1},t:{bytes:[48,48,252,48,48,48,48],width:6,height:7,x:1,y:1},u:{bytes:[198,198,198,198,126],width:7,height:5,y:1},v:{bytes:[204,204,204,120,48],width:6,height:5,x:1,y:1},w:{bytes:[182,182,182,182,126],width:7,height:5,y:1},x:{bytes:[198,254,56,254,198],width:7,height:5,y:1},y:{bytes:[198,198,198,126,6,124],width:7,height:6},z:{bytes:[254,28,56,112,254],width:7,height:5,y:1},"{":{bytes:[48,96,96,192,96,96,48],width:4,height:7,x:2,y:1},"|":{bytes:[192,192,192,192,192,192,192],width:2,height:7,x:3,y:1},"}":{bytes:[192,96,96,48,96,96,192],width:4,height:7,x:1,y:1},"~":{bytes:[112,186,28],width:7,height:3,y:3}}};e.a=s},function(t,e,i){"use strict";const s={meta:{name:"-xos4-TerminessPowerline-Bold-R-Normal--12-120-72-72-C-60-ISO10646-1",points:12,properties:{defaultChar:-3,fontDescent:2,fontAscent:10},boundingBox:{width:6,height:12,x:0,y:-2}},glyphs:{0:{bytes:[0,0,112,136,152,168,200,136,136,112,0,0]},1:{bytes:[0,0,32,96,32,32,32,32,32,112,0,0]},2:{bytes:[0,0,112,136,136,16,32,64,128,248,0,0]},3:{bytes:[0,0,112,136,8,48,8,8,136,112,0,0]},4:{bytes:[0,0,8,24,40,72,136,248,8,8,0,0]},5:{bytes:[0,0,248,128,128,240,8,8,136,112,0,0]},6:{bytes:[0,0,112,128,128,240,136,136,136,112,0,0]},7:{bytes:[0,0,248,8,8,16,16,32,32,32,0,0]},8:{bytes:[0,0,112,136,136,112,136,136,136,112,0,0]},9:{bytes:[0,0,112,136,136,136,120,8,8,112,0,0]}," ":{bytes:[0,0,0,0,0,0,0,0,0,0,0,0]},"!":{bytes:[0,0,32,32,32,32,32,0,32,32,0,0]},'"':{bytes:[0,80,80,80,0,0,0,0,0,0,0,0]},"#":{bytes:[0,0,80,80,248,80,80,248,80,80,0,0]},$:{bytes:[0,0,32,112,168,160,112,40,168,112,32,0]},"%":{bytes:[0,0,72,168,80,16,32,40,84,72,0,0]},"&":{bytes:[0,0,32,80,80,32,104,144,144,104,0,0]},"'":{bytes:[0,32,32,32,0,0,0,0,0,0,0,0]},"(":{bytes:[0,0,16,32,64,64,64,64,32,16,0,0]},")":{bytes:[0,0,64,32,16,16,16,16,32,64,0,0]},"*":{bytes:[0,0,0,0,80,32,248,32,80,0,0,0]},"+":{bytes:[0,0,0,0,32,32,248,32,32,0,0,0]},",":{bytes:[0,0,0,0,0,0,0,0,32,32,64,0]},"-":{bytes:[0,0,0,0,0,0,248,0,0,0,0,0]},".":{bytes:[0,0,0,0,0,0,0,0,32,32,0,0]},"/":{bytes:[0,0,8,8,16,16,32,32,64,64,0,0]},":":{bytes:[0,0,0,0,32,32,0,0,32,32,0,0]},";":{bytes:[0,0,0,0,32,32,0,0,32,32,64,0]},"<":{bytes:[0,0,0,8,16,32,64,32,16,8,0,0]},"=":{bytes:[0,0,0,0,248,0,0,248,0,0,0,0]},">":{bytes:[0,0,0,64,32,16,8,16,32,64,0,0]},"?":{bytes:[0,0,112,136,136,16,32,0,32,32,0,0]},"@":{bytes:[0,0,112,136,152,168,168,152,128,120,0,0]},A:{bytes:[0,0,112,136,136,136,248,136,136,136,0,0]},B:{bytes:[0,0,240,136,136,240,136,136,136,240,0,0]},C:{bytes:[0,0,112,136,128,128,128,128,136,112,0,0]},D:{bytes:[0,0,224,144,136,136,136,136,144,224,0,0]},E:{bytes:[0,0,248,128,128,240,128,128,128,248,0,0]},F:{bytes:[0,0,248,128,128,240,128,128,128,128,0,0]},G:{bytes:[0,0,112,136,128,128,184,136,136,112,0,0]},H:{bytes:[0,0,136,136,136,248,136,136,136,136,0,0]},I:{bytes:[0,0,112,32,32,32,32,32,32,112,0,0]},J:{bytes:[0,0,56,16,16,16,16,144,144,96,0,0]},K:{bytes:[0,0,136,144,160,192,192,160,144,136,0,0]},L:{bytes:[0,0,128,128,128,128,128,128,128,248,0,0]},M:{bytes:[0,0,136,216,168,168,136,136,136,136,0,0]},N:{bytes:[0,0,136,136,200,168,152,136,136,136,0,0]},O:{bytes:[0,0,112,136,136,136,136,136,136,112,0,0]},P:{bytes:[0,0,240,136,136,136,240,128,128,128,0,0]},Q:{bytes:[0,0,112,136,136,136,136,136,168,112,8,0]},R:{bytes:[0,0,240,136,136,136,240,160,144,136,0,0]},S:{bytes:[0,0,112,136,128,112,8,8,136,112,0,0]},T:{bytes:[0,0,248,32,32,32,32,32,32,32,0,0]},U:{bytes:[0,0,136,136,136,136,136,136,136,112,0,0]},V:{bytes:[0,0,136,136,136,80,80,80,32,32,0,0]},W:{bytes:[0,0,136,136,136,136,168,168,216,136,0,0]},X:{bytes:[0,0,136,136,80,32,32,80,136,136,0,0]},Y:{bytes:[0,0,136,136,80,80,32,32,32,32,0,0]},Z:{bytes:[0,0,248,8,16,32,64,128,128,248,0,0]},"[":{bytes:[0,0,112,64,64,64,64,64,64,112,0,0]},"\\":{bytes:[0,0,64,64,32,32,16,16,8,8,0,0]},"]":{bytes:[0,0,112,16,16,16,16,16,16,112,0,0]},"^":{bytes:[0,32,80,136,0,0,0,0,0,0,0,0]},_:{bytes:[0,0,0,0,0,0,0,0,0,0,248,0]},"`":{bytes:[64,32,0,0,0,0,0,0,0,0,0,0]},a:{bytes:[0,0,0,0,112,8,120,136,136,120,0,0]},b:{bytes:[0,0,128,128,240,136,136,136,136,240,0,0]},c:{bytes:[0,0,0,0,112,136,128,128,136,112,0,0]},d:{bytes:[0,0,8,8,120,136,136,136,136,120,0,0]},e:{bytes:[0,0,0,0,112,136,248,128,136,112,0,0]},f:{bytes:[0,0,24,32,112,32,32,32,32,32,0,0]},g:{bytes:[0,0,0,0,120,136,136,136,136,120,8,112]},h:{bytes:[0,0,128,128,240,136,136,136,136,136,0,0]},i:{bytes:[0,32,32,0,96,32,32,32,32,112,0,0]},j:{bytes:[0,8,8,0,24,8,8,8,8,8,72,48]},k:{bytes:[0,0,64,64,72,80,96,96,80,72,0,0]},l:{bytes:[0,0,96,32,32,32,32,32,32,112,0,0]},m:{bytes:[0,0,0,0,240,168,168,168,168,168,0,0]},n:{bytes:[0,0,0,0,240,136,136,136,136,136,0,0]},o:{bytes:[0,0,0,0,112,136,136,136,136,112,0,0]},p:{bytes:[0,0,0,0,240,136,136,136,136,240,128,128]},q:{bytes:[0,0,0,0,120,136,136,136,136,120,8,8]},r:{bytes:[0,0,0,0,184,192,128,128,128,128,0,0]},s:{bytes:[0,0,0,0,120,128,112,8,8,240,0,0]},t:{bytes:[0,0,32,32,112,32,32,32,32,24,0,0]},u:{bytes:[0,0,0,0,136,136,136,136,136,120,0,0]},v:{bytes:[0,0,0,0,136,136,80,80,32,32,0,0]},w:{bytes:[0,0,0,0,136,136,168,168,168,112,0,0]},x:{bytes:[0,0,0,0,136,80,32,32,80,136,0,0]},y:{bytes:[0,0,0,0,136,136,136,136,136,120,8,112]},z:{bytes:[0,0,0,0,248,16,32,64,128,248,0,0]},"{":{bytes:[0,0,24,32,32,64,32,32,32,24,0,0]},"|":{bytes:[0,0,32,32,32,32,32,32,32,32,0,0]},"}":{bytes:[0,0,96,16,16,8,16,16,16,96,0,0]},"~":{bytes:[0,72,168,144,0,0,0,0,0,0,0,0]}}};e.a=s},function(t,e,i){"use strict";function s(t){const e=Object.create(b);e.width=(r.e.widthPx+r.l.shipPaddingPx)*t.width,e.height=(r.e.heightPx+r.l.linePaddingPx)*t.height,e.ctx=i.i(a.c)(e.width,e.height),e.x=(r.b.screenWidth-e.width)/2,e.startingPosition=.1*r.b.screenHeight*t.levelNumber,e.y=e.startingPosition-r.b.screenHeight,e.direction=i.i(a.h)(0,1)?c.c.left:c.c.right,e.ships=[];const s=[];for(let o=0;o<t.shipTypes;o+=1){const t=h.a();t.missileType=n.a(),s.push(t)}switch(t.shipArrangement){case c.h.oneTypePerLine:for(let i=0;i<t.height;i++)for(let h=0;h<t.width;h++){const t=Object.create(s[i]);t.formation=e,t.x=Math.floor(r.l.shipPaddingPx/2)+(r.e.widthPx+r.l.shipPaddingPx)*h,t.y=Math.floor(r.l.linePaddingPx/2)+(r.e.heightPx+r.l.linePaddingPx)*i,e.ships.push(t)}}return e.ships.forEach(t=>t.show(e.ctx)),e}var h=i(4),n=i(8),o=i(7),a=i(2),r=i(0),c=i(1);e.a=s;let y,d,l;const b={advanceSpeed:.05,evadeSpeed:.07,advanceAmount:.05,advanceStart:null,direction:null,startingPosition:null,x:null,y:null,ctx:null,ships:null,width:null,height:null,show:function(t){i.i(a.d)(t,this.ctx,[this.x,this.y])},behavior:function(){if(this.y+this.ships[this.ships.length-1].y+r.e.heightPx>=r.b.screenHeight&&a.a.pub(c.a.gameOver),this.direction===c.c.down?this.y-this.advanceStart>=this.advanceAmount*r.b.screenHeight&&(this.direction=0===this.x?c.c.right:c.c.left):(this.x<=0||this.x+this.ctx.canvas.width>=r.b.screenWidth)&&(this.advanceStart=this.y,this.direction=c.c.down,this.x=this.x<=0?0:r.b.screenWidth-this.ctx.canvas.width),1===i.i(a.h)(this.ships.length)&&this.ships[i.i(a.h)(0,this.ships.length-1)].armMissile(),1===i.i(a.h)(3*this.ships.length)){let t=this.ships.filter(t=>t.missile);t.length&&t[i.i(a.h)(0,t.length-1)].fire()}},move:function(t){if(this.y<this.startingPosition)this.y+=r.l.warpSpeed*t/1e3;else switch(this.direction){case c.c.left:this.x-=this.evadeSpeed*r.b.screenWidth*t/1e3;break;case c.c.right:this.x+=this.evadeSpeed*r.b.screenWidth*t/1e3;break;case c.c.up:this.y-=this.advanceSpeed*r.b.screenHeight*t/1e3;break;case c.c.down:this.y+=this.advanceSpeed*r.b.screenHeight*t/1e3}},checkCollisions:function(t){if(y=t.x-this.x,d=t.y-this.y,!(y<0||d<0||y>this.width||d>this.height))for(l=this.ships.length-1;l>=0;l-=1)if(i.i(a.i)(y,d,this.ships[l].x,this.ships[l].y)){this.ships[l].missile&&this.ships[l].missile.status!==c.d.launched?(a.a.pub(c.a.levelEntityCreated,c.a.effect,o.a(this.ships[l])),a.a.pub(c.a.levelEntityCreated,c.a.effect,o.a(this.ships[l].missile))):a.a.pub(c.a.levelEntityCreated,c.a.effect,o.a(this.ships[l],t)),this.destroyShip(l),t.destroy();break}},destroyShip:function(t){a.a.pub(c.a.enemyDestroyed,this.ships[l]),this.ships[l].missile&&this.ships[l].missile.status!==c.d.launched&&(a.a.pub(c.a.enemyDestroyed,this.ships[l].missile),this.ships[l].missile.destroy()),this.ctx.clearRect(this.ships[t].x,this.ships[t].y,r.e.widthPx,r.e.heightPx),this.ships.splice(t,1),this.ships.length||a.a.pub(c.a.levelEntityDestroyed,c.a.formation,this)}}},function(t,e,i){"use strict";function s(t){t=t.toString(),t="0".repeat(Math.max(a.d.scoreDigits-t.length,0))+t,f.clearRect(b,a.d.paddingY,t.length*l.meta.boundingBox.width*a.d.fontSize,(l.meta.boundingBox.height+Math.abs(l.meta.boundingBox.y))*a.d.fontSize),l.write(f,[b,u],t,{size:a.d.fontSize})}function h(t){f.clearRect(g,u-a.e.heightPx,a.c.maxLives*(a.e.width+1)*a.b.pixelSize,a.e.heightPx);for(let e=0;e<t.length;e+=1)t[e].show(f,g+e*(a.e.width+1)*a.b.pixelSize,u-a.e.heightPx)}function n(t){l=y.a(a.d.font),u=a.d.paddingY+(l.meta.boundingBox.height+l.meta.boundingBox.y)*a.d.fontSize,b=l.write(f,[a.d.paddingX,u],d.a.score,{size:a.d.fontSize}).lineEnd,s(t.score),g=a.b.screenWidth-a.d.paddingX-a.c.maxLives*(a.e.width+1)*a.b.pixelSize,l.write(f,[g,u],d.a.ships,{size:a.d.fontSize,alignment:r.e.right}),h(t.extraShips),c.a.on(r.a.scoreUpdate,s),c.a.on(r.a.shipListUpdate,h)}function o(){c.a.off(s),c.a.off(h)}var a=i(0),r=i(1),c=i(2),y=i(3),d=i(5);e.a=n,e.b=o;let l,b,u,g;const f=interfaceScreen.getContext("2d")},function(t,e,i){"use strict";function s(t){d=r.a(a.k.font),l=t,y.a.on(c.a.animationFrame,n),u=a.k.opacity.slice(),g=a.k.duration/a.k.opacity.length,b=i.i(y.g)(a.k.color,u.shift()),n(0)}function h(){y.a.off(n),o()}function n(t){g-=t,g<=0&&(u.length?(g+=a.k.duration/a.k.opacity.length,b=i.i(y.g)(a.k.color,u.shift()),o(),d.write(f,[a.b.screenWidth/2,(a.b.screenHeight+d.meta.points*a.k.size)/2],`${l}`,{alignment:c.e.center,size:a.k.size,color:b})):y.a.pub(c.a.introOver))}function o(){f.clearRect(0,(a.b.screenHeight-d.meta.points*a.k.size)/2,a.b.screenWidth,d.meta.points*a.k.size)}var a=i(0),r=i(3),c=i(1),y=i(2);e.b=s,e.a=h;let d,l,b,u,g;const f=interfaceScreen.getContext("2d")},function(t,e,i){"use strict";function s(t){switch(t){case d.b.arrowUp:m=m-1>=0?m-1:w.length-1,r.a.pub(d.a.cursorRepositioned,w[m].y);break;case d.b.arrowDown:m=m+1<=w.length-1?m+1:0,r.a.pub(d.a.cursorRepositioned,w[m].y);break;case d.b.enter:case d.b.space:w[m].action(),o()}}function h(t){g=c.a(b.o.font),f=i.i(r.g)(b.o.color,100),r.a.on(d.a.keyDown,s),r.a.on(d.a.animationFrame,a),v.y=Math.round((b.b.screenHeight-g.meta.boundingBox.height*(b.o.titleSize+3*b.o.menuItemSize)*b.o.lineHeight)/2),[k,B,C].forEach(t=>{t[0].y=v.y+g.meta.boundingBox.height*b.o.titleSize*b.o.lineHeight;for(let e=1;e<t.length;e+=1)t[e].y=t[e-1].y+g.meta.boundingBox.height*b.o.menuItemSize*b.o.lineHeight}),S=u.c(),t.oldPlayer?(w=C,P={position:t.position,missile:Object.create(t.oldPlayer.lastShip.missileType)},P.missile.armProgress=b.j.armSteps-1,t.position===-1&&(S.push(t.record),P.position=S.length-1)):(w=k,P=null);for(let e=0;e<S.length;e+=1)S[e].label="0".repeat(Math.max(b.o.scoreDigits-S[e].score.toString(10).length,0))+S[e].score,S[e].y=v.y+g.meta.boundingBox.height*b.o.titleSize*b.o.lineHeight+g.meta.boundingBox.height*b.o.menuItemSize*b.o.lineHeight*e;return x=0,m=0,{x:o(),y:w[m].y}}function n(){r.a.off(s),r.a.off(a),j.clearRect(0,0,b.b.screenWidth,b.b.screenHeight)}function o(){j.clearRect(0,0,b.b.screenWidth,b.b.screenHeight),v.x=g.write(j,[b.b.screenWidth/2,v.y],l.a.title,{alignment:d.e.center,size:b.o.titleSize,color:f}).lineStart,z.x=v.x+b.e.widthPx+b.o.cursorPadding;for(let t=0;t<w.length;t+=1)g.write(j,[z.x,w[t].y],w[t].label,{size:b.o.menuItemSize,color:f});if(w===C)for(let t=0;t<S.length;t+=1)P&&P.position===t&&P.missile.show(j,z.x+(b.e.widthPx-b.j.widthPx)/2,S[t].y-b.e.heightPx+(b.e.heightPx-b.j.heightPx)/2),y.c(j,z.x,S[t].y-b.e.heightPx,S[t].blueprint,S[t].color),g.write(j,[z.x+2*b.e.widthPx,S[t].y],S[t].label,{size:b.o.menuItemSize,color:f});return v.x}function a(t){x+=t,p=i.i(r.g)(b.o.color,100/b.o.fadeSteps*(b.o.fadeSteps-Math.floor(x/(b.o.transitionDuration/b.o.fadeSteps)))),p!==f&&(f=p,o())}var r=i(2),c=i(3),y=i(4),d=i(1),l=i(5),b=i(0),u=i(6);e.a=h,e.b=n;let g,f,p,w,m,x,S,P,v={},z={};const j=interfaceScreen.getContext("2d"),k=[{label:l.a.play,action:function(){r.a.off(s),r.a.pub(d.a.menuToGameTransition)}},{label:l.a.highScores,action:function(){w=C,m=0,r.a.pub(d.a.cursorRepositioned,w[m].y)}},{label:l.a.options,action:function(){w=B,m=0,r.a.pub(d.a.cursorRepositioned,w[m].y)}}],B=[{get label(){return l.a.sound+(b.p.on?l.a.on:l.a.off)},action:function(){i.i(b.a)(d.g.sound,!b.p.on,!0)}},{get label(){return l.a.showFPS+(b.h.showFPS?l.a.on:l.a.off)},action:function(){i.i(b.a)(d.g.fps,!b.h.showFPS,!0)}},{label:l.a.back,get y(){return this._y+g.meta.boundingBox.height*b.o.menuItemSize*b.o.lineHeight},set y(t){this._y=t},action:function(){w=k,m=2,r.a.pub(d.a.cursorRepositioned,w[m].y)}}],C=[{label:l.a.back,get y(){return this._y+g.meta.boundingBox.height*b.o.menuItemSize*b.o.lineHeight*(S.length+1)},set y(t){this._y=t},action:function(){w=k,m=1,r.a.pub(d.a.cursorRepositioned,w[m].y)}}]},function(t,e,i){"use strict";function s(){d=r.a(o.i.font)}function h(){d.write(y,[o.b.screenWidth/2,(o.b.screenHeight+d.meta.points*o.i.titleSize)/2],c.a.paused,{size:o.i.titleSize,alignment:a.e.center}),d.write(y,[o.b.screenWidth/2,(o.b.screenHeight+d.meta.points*(2*o.i.titleSize))/2],c.a.pressToContinue,{size:o.i.subtitleSize,alignment:a.e.center})}function n(){y.clearRect(0,(o.b.screenHeight-d.meta.points*o.i.titleSize)/2,o.b.screenWidth,d.meta.points*o.i.titleSize*3)}var o=i(0),a=i(1),r=i(3),c=i(5);e.a=s,e.b=h,e.c=n;const y=interfaceScreen.getContext("2d");let d},function(t,e,i){"use strict";function s(t){P||b(s),S=S||t,v=t-S,v<1e3/r.h.maxFPS||(S=t,v=Math.min(v,1e3/r.h.minFPS),v=Math.max(v,1e3/r.h.maxFPS),p.clearRect(0,0,r.b.screenWidth,r.b.screenHeight),x=w.drawFrame(Math.max(v),1e3/r.h.minFPS),g.clearRect(0,0,r.b.screenWidth,r.b.screenHeight),i.i(c.b)(g,p,[0,0]),r.h.showFPS&&(Date.now()-z>=1e3?(z=Date.now(),f.clearRect(0,0,20,12),f.fillStyle=r.h.systemInfoColor,f.font=r.h.systemInfoText,f.fillText(j,0,10),j=1):j+=1),x&&(a(),w.end(),m(x)))}function h(t){return w=t.animation,w.init(t.data,p),z=Date.now(),b(s),y.on(d.a.gamePaused,n),new Promise(t=>{m=(e=>t(e))})}function n(){P||(P=!0,u(s),S=null,l.b(),y.on(d.a.keyDown,o))}function o(t){t!==d.b.space&&t||(P=!1,l.c(),y.pub(d.a.gameResumed),b(s),y.off(o))}function a(){u(s),S=null,w.end(),y.off(n),y.off(o),m(x)}Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),c=i(10),y=i(11),d=i(1),l=i(25);e.start=h,e.pause=n,e.resume=o,e.stop=a,l.a();const b=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame,u=window.cancelAnimationFrame||window.mozCancelAnimationFrame,g=gameScreen.getContext("2d"),f=interfaceScreen.getContext("2d"),p=i.i(c.a)();let w,m,x,S,P,v,z,j=0},function(t,e,i){"use strict";function s(t,e,i,s){return!(t>i+h.e.widthPx||e>s+h.e.heightPx||t<i-h.j.widthPx||e<s-h.j.heightPx)}var h=i(0);e.a=s},function(t,e,i){"use strict";function s(t){const e=t.canvas.width,s=t.canvas.height,r=`${e}x${s}`;return o[r]&&a[r]!==h.g.itemsPerCanvas||(o[r]=o[r]||[],o[r].push(i.i(n.c)(e*h.g.itemsPerCanvas,s)),a[r]=0),i.i(n.d)(o[r][o[r].length-1],t,[a[r]*e,0],[0,0],[e,s]),a[r]+=1,{ctx:o[r][o[r].length-1],coords:[(a[r]-1)*e,0]}}var h=i(0),n=i(2);e.a=s;const o={},a={}},function(t,e,i){"use strict";function s(t){if(t.gameOver){const e={score:t.player.score,blueprint:t.player.lastShip.blueprint,color:t.player.lastShip.color},i=o.b(e);l.b.start({animation:d,data:{player:r.a(),oldPlayer:t.player,position:i,record:e}}).then(t=>s(t))}else t.level=c.a(t.level?t.level.number+1:1),l.b.start({animation:y,data:t}).then(t=>s(t))}Object.defineProperty(e,"__esModule",{value:!0});var h=i(0),n=i(1),o=i(6),a=i(16),r=i(15),c=i(14),y=i(12),d=i(13),l=i(2);window.location.search.substr(1).split(/[,;&]/).forEach(t=>i.i(h.a)(...t.split("="))),[gameScreen,interfaceScreen,backgroundScreen].forEach(t=>{t.width=h.b.screenWidth,t.height=h.b.screenHeight}),main.style.width=h.b.screenWidth+"px",main.style.height=h.b.screenHeight+"px",document.addEventListener(n.a.keyDown,t=>{l.a.pub(n.a.keyDown,t.key,t)}),document.addEventListener(n.a.keyUp,t=>{l.a.pub(n.a.keyUp,t.key,t)}),o.a(),a.a().show(backgroundScreen.getContext("2d")),l.b.start({animation:d,data:{player:r.a()}}).then(t=>s(t))}]);
//# sourceMappingURL=main.js.map