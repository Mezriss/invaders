!function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=42)}([function(t,e,i){"use strict";function n(){a.widthPx=a.width*o.pixelSize,a.heightPx=a.height*o.pixelSize,f.widthPx=f.width*o.pixelSize,f.heightPx=f.height*o.pixelSize,f.glowLengthPx=f.glowLength*o.pixelSize,f.widthPadded=f.width+2*f.glowLength,f.heightPadded=f.height+2*f.glowLength,f.widthPaddedPx=f.widthPx+2*f.glowLengthPx,f.heightPaddedPx=f.heightPx+2*f.glowLengthPx,u.shipPaddingPx=u.shipPadding*o.pixelSize,u.linePaddingPx=u.linePadding*o.pixelSize,P.controlPanelHeightPx=P.controlPanelHeight*o.pixelSize,P.buttonWidthPx=P.buttonWidth*o.pixelSize,P.buttonHeightPx=P.buttonHeight*o.pixelSize}function s(t,e,i){switch(t){case h.a.beveled:a.drawStyle=h.a.beveled;break;case"pixelSize":o.pixelSize=parseInt(e,10),n();break;case"font":g.font=e,p.font=e,w.font=e,x.font=e,P.controlPanelFont=e;break;case h.a.screenWidth:o.screenWidth=e;break;case h.a.screenHeight:o.screenHeight=e;break;case"mobile":P.enabled=!0;break;case"desktop":P.enabled=!1;break;case h.a.fps:c.showFPS=e||void 0===e;break;case h.a.controls:P.controls=e;break;case h.a.sound:S.on=e||void 0===e}if(i){const i=localStorage.getItem("settings")?JSON.parse(localStorage.getItem("settings")):{};i[t]=e,localStorage.setItem("settings",JSON.stringify(i))}}var h=i(1);e.a=s;const o={pixelSize:3,screenWidth:480,screenHeight:600,get fullScreenHeight(){return this.screenHeight+(P.enabled?P.controlPanelHeightPx:0)}};e.d=o;const r={pixelSize:2,background:17,maxStars:80,maxIntensity:.8,hue:[10203391,11190271,13293567,16316415,16708842],beamFadeRate:.15,minBeamIntensity:.1,initialBeamIntensity:.6,maxBeamLength:5};e.c=r;const a={width:7,height:5,minBits:7,maxBits:15,defaultColor:16763141,drawStyle:h.a.regular};e.f=a;const c={preventSubPixelDrawing:!1,stickToPixelGrid:!1,showFPS:!1,systemInfoColor:"lime",systemInfoText:"10px sans-serif",maxFPS:60,minFPS:15,paletteSize:100,mask:[[[0,0],[16777215,15],[16777215,25]],[[0,15],[0,0],[16777215,15]],[[0,25],[0,15],[0,0]]]};e.j=c;const u={shipPadding:9,linePadding:3,get warpSpeed(){return o.screenHeight}};e.n=u;const d={defaultColor:9635327,startingLives:3,maxLives:4,get speed(){return.3*o.screenWidth},get minTravelDistance(){return a.widthPx},respawnDelay:1e3};e.e=d;const l={itemsPerCanvas:10,itemPadding:5};e.h=l;const f={defaultColor:16777215,glow:.2,glowDegradation:0,width:3,height:5,minBits:3,maxBits:4,armSteps:4,glowLength:1};e.i=f;const y={duration:300,minOpacity:20,spread:4};e.p=y;const b={defaultColor:16777215,alignment:"left"};e.g=b;const g={font:"powerline",fontSize:2,get paddingX(){return Math.round(.02*o.screenWidth)},get paddingY(){return Math.round(.02*o.fullScreenHeight)},scoreDigits:4};e.k=g;const p={font:"powerline",titleSize:3,menuItemSize:2,lineHeight:1.7,get cursorPadding(){return 2*o.pixelSize},get cursorSpeed(){return.3*o.fullScreenHeight},color:16777215,fadeSteps:8,transitionDuration:2500,scoreDigits:4};e.r=p;const m={key:"highScores",amount:5,predefinedScores:[1e3,500,250,100,10]};e.q=m;const w={size:20,font:"powerline",color:16777215,opacity:[.75,1,.75,.5,.25],duration:800};e.m=w;const x={font:"powerline",titleSize:5,subtitleSize:2};e.l=x;const S={on:!0,volume:.5};e.o=S;const P={enabled:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),controlPanelHeight:30,controlPanelFont:"powerline",controlPanelFontSize:1,noticeClearTimeout:3e3,controls:h.a.buttons,buttonColor:16777215,buttonWidth:16,buttonHeight:9,gyroSafeZone:3,gyroMessageBottomMargin:5};e.b=P;const v=localStorage.getItem("settings")?JSON.parse(localStorage.getItem("settings")):{};Object.keys(v).forEach(t=>s(t,v[t])),n()},function(t,e,i){"use strict";const n={oneTypePerLine:"one-type-per-line"};e.h=n;const s={left:"left",right:"right",up:"up",down:"down"};e.d=s;const h={keyDown:"keydown",keyUp:"keyup",touchStart:"touchstart",touchEnd:"touchend",touchCancel:"touchcancel",touchMove:"touchmove",visibilityChange:"visibilitychange",deviceOrientation:"deviceorientation",levelEntityCreated:"levelEntityCreated",levelEntityDestroyed:"levelEntityDestroyed",missile:"missiles",effect:"effects",formation:"formations",enemyDestroyed:"enemyDestroyed",shipListUpdate:"shipListUpdate",scoreUpdate:"scoreUpdate",gameOver:"gameOver",cursorRepositioned:"cursorRepositioned",menuToGameTransition:"menuToGameTransition",animationFrame:"menuToGameTransitionFrame",introOver:"introOver",gamePaused:"gamePaused",gameResumed:"gameResumed",touchShootStart:"touchShootStart",touchShootEnd:"touchShootEnd",touchMoveEnd:"touchMoveEnd",touchLeft:"touchLeftStart",touchRight:"touchRightStart",touchDragMove:"touchDragMove",touchDragEnd:"touchDragEnd",gyroData:"gyroData"};e.b=h;const o={arrowLeft:37,arrowRight:39,arrowUp:38,arrowDown:40,enter:13,space:32,escape:27};e.c=o;const r={arming:"arming",armed:"armed",launched:"launched",destroyed:"destroyed"};e.e=r;const a={regular:"regular",beveled:"beveled",sound:"sound",fps:"fps",screenWidth:"screenWidth",screenHeight:"screenHeight",controls:"controls",buttons:"buttons",drag:"drag",gyro:"gyro",controlsOptions:[]};e.a=a,a.controlsOptions.push(a.buttons,a.drag,a.gyro);const c={left:"left",right:"right",center:"center"};e.g=c;const u={buttonLeft:[32766,65343,65087,64575,63551,64575,65087,65343,32766],buttonRight:[32766,64767,64639,64575,64543,64575,64639,64767,32766],buttonShoot:[32766,65535,63903,64575,65151,64575,63903,65535,32766]};e.f=u},function(t,e,i){"use strict";function n(t,e=t){return t=1===arguments.length?1:t,t+Math.floor(Math.random()*(e-t+1))}function s(t,e){const i=[];for(let s=0;s<e;s+=1)i.push(n(t));return Math.max(...i)}function h(t){let e,i,s,h=t.slice(0);for(e=h.length-1;e>0;e--)i=n(0,e),s=h[e],h[e]=h[i],h[i]=s;return h}var o=i(14);i.d(e,"b",function(){return o.a}),i.d(e,"c",function(){return o.b}),i.d(e,"e",function(){return o.c}),i.d(e,"f",function(){return o.d}),i.d(e,"g",function(){return o.e}),i.d(e,"m",function(){return o.f});var r=i(13);i.d(e,"i",function(){return r.a});var a=i(40);i.d(e,"k",function(){return a.a});var c=i(15);i.d(e,"d",function(){return c});var u=i(41);i.d(e,"a",function(){return u});var d=i(16);i.d(e,"h",function(){return d.a}),e.j=n,e.n=s,e.l=h},function(t,e,i){"use strict";function n(){let t=[];const e=i.i(r.j)(o.f.minBits,o.f.maxBits),n=[];for(let s=0;s<c*o.f.height;s+=1)t.push(s<e);t=i.i(r.l)(t);for(let s=0;s<o.f.height;s+=1)for(let h=0;h<c;h+=1)n[s*o.f.width+h]=t[s*c+h],n[s*o.f.width+o.f.width-h-1]=t[s*c+h];return n}function s(t,e,i,n,s,h=o.d.pixelSize){const c=o.f.drawStyle===a.a.beveled?r.m:r.g;for(let u=0;u<o.f.height;u+=1)for(let d=0;d<o.f.width;d+=1)n[u*o.f.width+d]&&c(t,e+d*h,i+u*h,s)}function h(t={}){const e=Object.create(d);return e.color=t.color||e.color,e.blueprint=n(),u.canvas.width=o.f.widthPx,u.canvas.height=o.f.heightPx,u.clearRect(0,0,o.f.widthPx,o.f.heightPx),s(u,0,0,e.blueprint,e.color,t.pixelSize),e.sprite=i.i(r.h)(u),e}var o=i(0),r=i(2),a=i(1);e.b=n,e.c=s,e.a=h;const c=Math.ceil(o.f.width/2),u=i.i(r.b)(o.f.widthPx,o.f.heightPx),d={player:!1,blueprint:null,color:o.f.defaultColor,missileType:null,missile:null,formation:null,sprite:null,scoreValue:1,x:null,y:null,show(t,e=this.x,n=this.y){i.i(r.f)(t,this.sprite.ctx,[e,n],this.sprite.coords,[o.f.widthPx,o.f.heightPx])},behavior(){this.player&&this.missileType&&(!this.missile||this.missile.checkSafeDistance())&&this.armMissile()},armMissile(){this.missile&&!this.missile.checkSafeDistance()||(this.missile=Object.create(this.missileType),this.missile.launcher=this,this.missile.arm(),r.d.pub(a.b.levelEntityCreated,a.b.missile,this.missile))},fire(){this.missile&&this.missile.launch()},getCenter(){return[this.x+(this.formation?this.formation.x:0)+o.f.widthPx/2,this.y+(this.formation?this.formation.y:0)+o.f.heightPx/2]}}},function(t,e,i){"use strict";function n(t){if(a[t])return a[t];{const e=Object.create(u);return e.meta=r.a[t].meta,e.glyphs=Object.assign({},r.a[t].glyphs),Object.keys(e.glyphs).forEach(t=>{e.glyphs[t].width||e.meta.boundingBox.width,e.glyphs[t].sprites={},e.glyphs[t].bitmap=[];for(let i=0;i<e.glyphs[t].bytes.length;i+=1){e.glyphs[t].bitmap[i]=[];for(let n=0;n<8;n+=1)e.glyphs[t].bitmap[i][7-n]=(e.glyphs[t].bytes[i]>>n)%2}e.glyphs[t].width="width"in e.glyphs[t]?e.glyphs[t].width:e.meta.boundingBox.width,e.glyphs[t].height="height"in e.glyphs[t]?e.glyphs[t].height:e.meta.boundingBox.height,e.glyphs[t].x="x"in e.glyphs[t]?e.glyphs[t].x:e.meta.boundingBox.x,e.glyphs[t].y="y"in e.glyphs[t]?e.glyphs[t].y:e.meta.boundingBox.y,e.glyphs[t].dWidth="dWidth"in e.glyphs[t]?e.glyphs[t].dWidth:e.meta.boundingBox.width}),a[t]=e,e}}var s=i(0),h=i(1),o=i(2),r=i(25);e.a=n;const a=[],c=i.i(o.b)(s.d.pixelSize,s.d.pixelSize),u={meta:null,glyphs:null,write(t,e,i,n={}){let o=n.color||s.g.defaultColor,r=n.size||s.d.pixelSize,a=n.alignment||s.g.alignment,[c,u]=e.map(t=>Math.round(t)),d=c;switch(a){case h.g.center:let t=0;for(let e=0;e<i.length;e+=1)t+=this.glyphs[i[e]].dWidth*r;c-=Math.floor(t/2),d=c;break;case h.g.right:for(let e=0;e<i.length;e+=1)c-=this.glyphs[i[e]].dWidth*r;d=c}for(let l=0;l<i.length;l+=1)this.writeLetter(t,i[l],c,u,o,r),c+=this.glyphs[i[l]].dWidth*r;return{lineStart:d,lineEnd:c}},writeLetter(t,e,n,s,h,r){const a=h+"-"+r;this.glyphs[e].sprites[a]||this.drawLetter(this.glyphs[e],h,r),i.i(o.f)(t,this.glyphs[e].sprites[a].ctx,[n+this.glyphs[e].x*r,s-(this.glyphs[e].y+this.glyphs[e].height)*r],this.glyphs[e].sprites[a].coords,[this.meta.boundingBox.width*r,this.meta.boundingBox.height*r])},drawLetter(t,e,n){c.canvas.width!==this.meta.boundingBox.width*n&&(c.canvas.width=this.meta.boundingBox.width*n),c.canvas.height!==this.meta.boundingBox.height*n&&(c.canvas.height=this.meta.boundingBox.height*n),c.clearRect(0,0,this.meta.boundingBox.width*n,this.meta.boundingBox.height*n);for(let s=0;s<t.height;s+=1)for(let h=0;h<t.width;h+=1)t.bitmap[s]&&t.bitmap[s][h]&&i.i(o.g)(c,h*n,s*n,e,n);t.sprites[e+"-"+n]=i.i(o.h)(c)}}},function(t,e,i){"use strict";e.a={ships:"Ships:",score:"Score:",title:"Invaders",play:"Play game",highScores:"High scores",options:"Options",back:"Back",sound:"Sound: ",showFPS:"Show FPS: ",on:"On",off:"Off",paused:"Paused",pressToContinue:"Press [space] to continue",tapToContinue:"Tap to continue",controls:"Controls: ",buttons:"buttons",drag:"drag",gyro:"gyro",dragToMove:"Drag to move",tiltToMove:"Tilt screen to move"}},function(t,e,i){"use strict";function n(t){return t-Math.floor(t)}function s(t,e,i){return i<t?t:i>e?e:i}function h(t,e,i){return(1-i)*t+i*e}e.a=n,e.b=s,e.c=h},function(t,e,i){"use strict";function n(t){return t.attack+t.sustain+t.decay}function s(t){return Math.max(t.repeatFrequency,1/n(t))}function h(t,e){const i=a.a(e*s(t));let n=t.frequency+i*t.frequencySweep+i*i*t.frequencyDeltaSweep;return i>t.frequencyJump1Onset/100&&(n*=1+t.frequencyJump1Amount/100),i>t.frequencyJump2Onset/100&&(n*=1+t.frequencyJump2Amount/100),0!==t.vibratoDepth&&(n+=1-t.vibratoDepth*(.5-.5*Math.sin(2*Math.PI*e*t.vibratoFrequency))),Math.max(0,n)}function o(t,e){const i=a.a(e*s(t));return(t.squareDuty+i*t.squareDutySweep)/100}function r(t,e){let i;return i=e<t.attack?e/t.attack:e<t.attack+t.sustain?1+t.sustainPunch/100*(1-(e-t.attack)/t.sustain):1-(e-t.attack-t.sustain)/t.decay,0!==t.tremoloDepth&&(i*=1-t.tremoloDepth/100*(.5+.5*Math.cos(2*Math.PI*e*t.tremoloFrequency))),i}var a=i(6);e.a=n,e.b=h,e.d=o,e.c=r},function(t,e,i){"use strict";var n=i(38),s=i(39);e.a={explosion:n,laser:s}},function(t,e,i){"use strict";function n(t){const e=i.i(o.a)(t),n=a.createBuffer(1,e.length,t.sampleRate);return n.getChannelData(0).set(e),n}function s(t){return u.push({sound:t,buffer:r.o.on?n(t):null}),u.length-1}function h(t){if(r.o.on){u[t].buffer||(u[t].buffer=n(u[t].sound));const e=a.createBufferSource();e.buffer=u[t].buffer,e.connect(c),e.start()}}var o=i(36),r=i(0);e.a=s,e.b=h;const a=new(window.AudioContext||window.webkitAudioContext),c=a.createGain(),u=[];c.gain.value=r.o.volume,c.connect(a.destination)},function(t,e,i){"use strict";function n(){const t=[];for(let e=0;e<r.q.predefinedScores.length;e+=1)t.push({color:r.f.defaultColor,blueprint:a.b(),score:r.q.predefinedScores[e]});localStorage.setItem(r.q.key,JSON.stringify(t))}function s(){null===localStorage.getItem(r.q.key)&&n()}function h(t){const e=JSON.parse(localStorage.getItem(r.q.key));return e.push(t),e.sort((t,e)=>e.score-t.score),e.splice(r.q.amount),localStorage.setItem(r.q.key,JSON.stringify(e)),e.indexOf(t)}function o(){return JSON.parse(localStorage.getItem(r.q.key))}var r=i(0),a=i(3);e.a=s,e.b=h,e.c=o},function(t,e,i){"use strict";function n(t,e){const i=Object.create(r);i.color=t.color,[i.x,i.y]=e?e.getCenter():t.getCenter(),i.particles=[];for(let n=0;n<h.f.height;n+=1)for(let s=0;s<h.f.width;s+=1)t.blueprint[n*h.f.width+s]&&i.particles.push({x:t.x+(t.formation?t.formation.x:0)+(s+.5)*h.d.pixelSize-i.x,y:t.y+(t.formation?t.formation.y:0)+(n+.5)*h.d.pixelSize-i.y});return i}var s=i(1),h=i(0),o=i(2);e.a=n;const r={particles:null,color:null,opacity:100,elapsedTime:0,spread:1,x:null,y:null,move(t){this.elapsedTime+=t,this.spread=1+(h.p.spread-1)*this.elapsedTime/h.p.duration,this.alpha=100-(100-h.p.minOpacity)*this.elapsedTime/h.p.duration,this.elapsedTime>h.p.duration&&o.d.pub(s.b.levelEntityDestroyed,s.b.effect,this)},show(t){this.particles.forEach(e=>{(h.f.drawStyle===s.a.beveled?o.m:o.g)(t,e.x*this.spread-h.d.pixelSize/2+this.x,e.y*this.spread-h.d.pixelSize/2+this.y,i.i(o.i)(this.color,this.alpha))})}}},function(t,e,i){"use strict";function n(t,e){return(e+h.i.glowLength)*h.i.widthPadded+t+h.i.glowLength}function s(t={}){u.canvas.width=h.i.widthPaddedPx,u.canvas.height=h.i.heightPaddedPx;const e=Object.create(f),s=i.i(r.j)(h.i.minBits,h.i.maxBits);e.color=t.color||e.color;let o=[];for(let y=0;y<d*l;y+=1)o.push(y<s);o=i.i(r.l)(o),e.blueprint=[],e.sprites=[];for(let y=0;y<l;y+=1)for(let b=0;b<d;b+=1)o[y*d+b]&&(e.blueprint[n(b,y)]=1,e.blueprint[n(h.i.width-1-b,y)]=1,e.blueprint[n(b,h.i.height-1-y)]=1,e.blueprint[n(h.i.width-1-b,h.i.height-1-y)]=1);for(let y=0;y<h.i.widthPadded*h.i.heightPadded;y+=1)if(1===e.blueprint[y])for(let b=1;b<=h.i.glowLength;b+=1){let t=h.i.glow-h.i.glow*h.i.glowDegradation*(b-1);e.blueprint[y-b]=e.blueprint[y-b]||t,e.blueprint[y+b]=e.blueprint[y+b]||t,e.blueprint[y-h.i.widthPadded*b]=e.blueprint[y-h.i.widthPadded*b]||t,e.blueprint[y+h.i.widthPadded*b]=e.blueprint[y+h.i.widthPadded*b]||t}for(let b=0;b<h.i.armSteps;b+=1){u.clearRect(0,0,h.i.widthPaddedPx,h.i.heightPaddedPx);for(let t=0;t<h.i.widthPadded*h.i.heightPadded;t+=1)e.blueprint[t]&&i.i(r.g)(u,t%h.i.widthPadded*h.d.pixelSize,Math.floor(t/h.i.widthPadded)*h.d.pixelSize,i.i(r.i)(e.color,e.blueprint[t]*(b+1)/h.i.armSteps));e.sprites.push(i.i(r.h)(u))}if(t.launchSound)e.launchSound=a.a(t.launchSound);else{const t=Object.assign({},c.a.laser.enemy);t.frequency*=.8+.4*Math.random(),e.launchSound=a.a(t)}return e}var h=i(0),o=i(1),r=i(2),a=i(9),c=i(8);e.a=s;const u=i.i(r.b)(h.i.widthPaddedPx,h.i.heightPaddedPx),d=Math.ceil(h.i.width/2),l=Math.ceil(h.i.height/2),f={speed:.2,color:h.i.defaultColor,launcher:null,sprites:null,armStart:null,armProgress:0,armSpeed:1e3,scoreValue:1,status:null,launchSound:null,x:null,y:null,show(t,e=this.x,n=this.y){i.i(r.f)(t,this.sprites[this.armProgress].ctx,[e-h.i.glowLengthPx,n-h.i.glowLengthPx],this.sprites[this.armProgress].coords,[h.i.widthPaddedPx,h.i.heightPaddedPx])},alignWithShipX(){this.x=this.launcher.x+(h.f.widthPx-h.i.widthPx)/2,this.x+=this.launcher.formation?this.launcher.formation.x:0},alignWithShipY(){this.launcher.player?this.y=this.launcher.y+(h.f.heightPx-h.i.heightPx)/2:this.y=this.launcher.formation.y+this.launcher.y-(h.f.heightPx-h.i.heightPx)/2},arm(){this.alignWithShipX(),this.alignWithShipY(),this.armStart=Date.now(),this.status=o.e.arming},launch(){this.status===o.e.armed&&(this.status=o.e.launched,this.launchSound&&a.b(this.launchSound))},behavior(){this.status===o.e.arming&&(this.armProgress=Math.min(Math.floor((Date.now()-this.armStart)/(this.armSpeed/h.i.armSteps)),h.i.armSteps-1),this.armProgress===h.i.armSteps-1&&(this.status=o.e.armed,this.launcher.barrage&&this.launch()))},move(t){this.status!==o.e.launched&&this.alignWithShipY(),this.status===o.e.launched&&this.checkSafeDistance()||this.alignWithShipX(),this.status===o.e.launched&&(this.y+=this.speed*h.d.screenHeight*t/1e3*(this.launcher.player?-1:1)),(this.y<-h.i.heightPaddedPx||this.y>h.d.fullScreenHeight)&&this.destroy()},checkSafeDistance(){return this.status===o.e.launched&&Math.abs(this.launcher.y+(this.launcher.formation?this.launcher.formation.y:0)-this.y)>h.i.heightPaddedPx},destroy(){this.status=o.e.destroyed,r.d.pub(o.b.levelEntityDestroyed,o.b.missile,this),this.launcher.missile===this&&(this.launcher.missile=null)},getCenter(){return[this.x+h.i.widthPx/2,this.y+h.i.heightPx/2]}}},function(t,e,i){"use strict";function n(t,e){return`rgba(${Math.floor(t/65536).toString()}, ${Math.floor(t%65536/256).toString()}, ${(t%256).toString()}, ${e})`}e.a=n},function(t,e,i){"use strict";function n(t){return"string"==typeof t?t:(t=t.toString(16),t="0".repeat(6-t.length)+t,"#"+t)}function s(t=c.d.screenWidth,e=c.d.fullScreenHeight){const i=document.createElement("canvas");return i.width=t,i.height=e,i.getContext("2d")}function h(t,e,i,s,h=c.d.pixelSize){t.fillStyle=n(s),t.fillRect(e,i,h,h)}function o(t,e,i,n,s){c.j.preventSubPixelDrawing&&(i=i.map(t=>Math.floor(t))),c.j.stickToPixelGrid&&(i=i.map(t=>t-t%c.d.pixelSize)),n&&s?t.drawImage(e.canvas,...n,...s,...i,...s):t.drawImage(e.canvas,...i)}function r(t,e,n=16){l.canvas.width=n*c.d.pixelSize,l.canvas.height=t.length*c.d.pixelSize;for(let s=0;s<t.length;s+=1)for(let o=0;o<n;o+=1)(t[s]>>o)%2&&h(l,(n-1-o)*c.d.pixelSize,s*c.d.pixelSize,e);return i.i(d.a)(l)}function a(t,e,i,n){n="number"==typeof n?"#"+n.toString(16):n,y[n]||(b+=1,y[n]=b,f.fillStyle=n,f.fillRect(b*c.d.pixelSize,0,c.d.pixelSize,c.d.pixelSize),o(f,f,[c.d.pixelSize*b,0],[0,0],[c.d.pixelSize,c.d.pixelSize])),o(t,f,[e,i],[y[n]*c.d.pixelSize,0],[c.d.pixelSize,c.d.pixelSize])}var c=i(0),u=i(13),d=i(16);e.b=n,e.a=s,e.e=h,e.d=o,e.c=r,e.f=a;const l=s(1,1),f=s(c.d.pixelSize*c.j.paletteSize,c.d.pixelSize),y={transparent:0};let b=0;c.j.mask.forEach((t,e)=>t.forEach((t,n)=>{f.fillStyle=i.i(u.a)(...t),f.fillRect(n,e,1,1)}))},function(t,e,i){"use strict";function n(t,...e){o[t]&&o[t].forEach(t=>t(...e))}function s(t,e){o[t]=o[t]||[],o[t].push(e)}function h(t){let e;for(let i in o)e=o[i].indexOf(t),e>=0&&(o[i].splice(e,1),o[i].length||delete o[i])}Object.defineProperty(e,"__esModule",{value:!0}),e.pub=n,e.on=s,e.off=h;const o={}},function(t,e,i){"use strict";function n(t){const e=t.canvas.width,n=t.canvas.height,a=`${e}x${n}`;return o[a]&&r[a]!==s.h.itemsPerCanvas||(o[a]=o[a]||[],o[a].push(i.i(h.b)((e+s.h.itemPadding)*s.h.itemsPerCanvas,n)),r[a]=0),i.i(h.f)(o[a][o[a].length-1],t,[r[a]*(e+s.h.itemPadding),0],[0,0],[e,n]),r[a]+=1,{ctx:o[a][o[a].length-1],coords:[(r[a]-1)*(e+s.h.itemPadding),0]}}var s=i(0),h=i(2);e.a=n;const o={},r={}},function(t,e,i){"use strict";function n(t){switch(t){case M.c.arrowLeft:if(T)return;q.moving||(q.plannedTravel=z.e.minTravelDistance,q.moving=!0),F=!0,q.direction=M.d.left;break;case M.c.arrowRight:if(T)return;q.moving||(q.plannedTravel=z.e.minTravelDistance,q.moving=!0),B=!0,q.direction=M.d.right;break;case M.c.space:T?d():(q.setBarrage(!0),q.fire());break;case M.c.escape:u()}}function s(t){switch(t){case M.c.arrowLeft:F=!1,B&&(q.direction=M.d.right),q.moving=F||B;break;case M.c.arrowRight:B=!1,F&&(q.direction=M.d.left),q.moving=F||B;break;case M.c.space:q.setBarrage(!1)}}function h(t,e){R[t].push(e)}function o(t,e){R[t].splice(R[t].indexOf(e),1)}function r(t){q.score+=t.scoreValue,k.d.pub(M.b.scoreUpdate,q.score)}function a(){q.currentShip&&!q.lastShip&&(q.lastShip=q.currentShip),W=!0}function c(){I=!1,D.a()}function u(){T=!0,k.d.pub(M.b.gamePaused),O.a(),z.b.enabled&&k.a.on(M.b.touchStart,{x:0,y:0,w:z.d.screenWidth,h:z.d.fullScreenHeight},d)}function d(){T=!1,k.d.pub(M.b.gameResumed),O.b(),z.b.enabled&&k.a.off(M.b.touchStart,d)}function l(){document.hidden&&u()}function f(){q.setBarrage(!0),q.fire()}function y(){q.setBarrage(!1)}function b(){q.moving=!1}function g(){q.moving||(q.plannedTravel=z.e.minTravelDistance,q.moving=!0),q.direction=M.d.left}function p(){q.moving||(q.plannedTravel=z.e.minTravelDistance,q.moving=!0),q.direction=M.d.right}function m(t){q.setBarrage(!0),q.fire(),t[0]<q.x&&(q.direction=M.d.left,q.moveTarget=t[0],q.moving=!0),t[0]>q.x+z.f.widthPx&&(q.direction=M.d.right,q.moveTarget=t[0],q.moving=!0)}function w(){q.moving=!1,q.setBarrage(!1)}function x(t){q.moving=Math.abs(t)>z.b.gyroSafeZone,q.direction=t<0?M.d.left:M.d.right}function S(t,e){F=!1,B=!1,W=!1,k.d.on(M.b.keyDown,n),k.d.on(M.b.keyUp,s),k.d.on(M.b.levelEntityCreated,h),k.d.on(M.b.levelEntityDestroyed,o),k.d.on(M.b.enemyDestroyed,r),k.d.on(M.b.gameOver,a),k.d.on(M.b.introOver,c),q=t.player,R=t.level,q.currentShip.armMissile(),H=e,C.a(q),D.b(R.number),O.c(),z.b.enabled&&(E.a(),k.d.on(M.b.touchShootStart,f),k.d.on(M.b.touchShootEnd,y),k.d.on(M.b.touchMoveEnd,b),k.d.on(M.b.touchLeft,g),k.d.on(M.b.touchRight,p),k.d.on(M.b.touchDragMove,m),k.d.on(M.b.touchDragEnd,w),k.d.on(M.b.gyroData,x)),I=!0,document.addEventListener(M.b.visibilityChange,l)}function P(){[n,s,h,o,r,a,c].forEach(t=>k.d.off(t)),C.b(),z.b.enabled&&(E.b(),[f,y,b,g,p,m,w,x].forEach(t=>k.d.off(t))),D.a(),R.missiles.forEach(t=>t.destroy()),document.removeEventListener(M.b.visibilityChange,l)}function v(t){return I?k.d.pub(M.b.animationFrame,t):(R.missiles.filter(t=>t.status===M.e.launched).forEach(t=>{t.launcher.player?R.formations.forEach(e=>e.checkCollisions(t)):q.checkCollisions(t)}),R.formations.forEach(e=>{e.behavior(),e.ships.forEach(t=>t.behavior()),e.move(t)}),q.behavior(),q.move(t),R.missiles.forEach(e=>{e.behavior(),e.move(t)}),R.effects.forEach(e=>e.move(t)),R.missiles.forEach(t=>t.show(H)),R.formations.forEach(t=>t.show(H)),R.effects.forEach(t=>t.show(H))),q.show(H),!W&&(R.formations.length||R.events.length)||R.effects.length?null:{player:q,level:R,gameOver:W}}Object.defineProperty(e,"__esModule",{value:!0});var z=i(0),M=i(1),k=i(2),C=i(29),E=i(32),D=i(30),O=i(33);e.init=S,e.end=P,e.drawFrame=v;let H,q,R,W,T,F,B,I},function(t,e,i){"use strict";function n(t,e){const i=l.a(t);y=t.player,f=e,b={x:i.x,y:i.y-d.f.heightPx},g=b.y,c.d.on(u.b.cursorRepositioned,o),c.d.on(u.b.menuToGameTransition,r),p=!1}function s(){c.d.off(o),c.d.off(r),l.b()}function h(t){if(a(t))return{player:y};p&&c.d.pub(u.b.animationFrame,t),y.show(f,b.x,b.y)}function o(t){g=t-d.f.heightPx}function r(){p=!0}function a(t){if(p)if(b.y!==y.y)b.y=Math.min(b.y+d.e.speed*t/1e3,y.y);else{if(b.x===y.x)return!0;b.x=Math.min(b.x+d.e.speed*t/1e3,y.x)}else b.y!==g&&(b.y<g?b.y=Math.min(b.y+d.r.cursorSpeed*t/1e3,g):b.y=Math.max(b.y-d.r.cursorSpeed*t/1e3,g))}Object.defineProperty(e,"__esModule",{value:!0});var c=i(2),u=i(1),d=i(0),l=i(31);e.init=n,e.end=s,e.drawFrame=h;let f,y,b,g,p},function(t,e,i){"use strict";function n(t){const e={number:t,formations:[],missiles:[],events:[],effects:[]};return e.formations.push(h.a({levelNumber:t,width:Math.floor(s.d.screenWidth/(s.f.widthPx+s.n.shipPaddingPx)*.7),height:6,shipTypes:6,shipArrangement:o.h.oneTypePerLine})),e}var s=i(0),h=i(28),o=i(1);e.a=n},function(t,e,i){"use strict";function n(){const t=Object.create(f);t.extraShips=[];for(let e=0;e<s.e.startingLives;e+=1){const e=o.a(y);e.player=!0,e.x=Math.floor(s.d.screenWidth/2-s.f.widthPx/2),e.y=Math.floor(s.d.screenHeight-1.5*s.f.heightPx),e.missileType=r.a({launchSound:d.a.laser.player}),e.missileType.launcher=e,t.extraShips.push(e)}return t.currentShip=t.extraShips.pop(),t}var s=i(0),h=i(1),o=i(3),r=i(12),a=i(11),c=i(2),u=i(9),d=i(8);e.a=n;const l=u.a(d.a.explosion.player),f={score:0,currentShip:null,extraShips:null,direction:null,plannedTravel:0,moving:!1,moveTarget:null,speed:s.e.speed,get x(){return this.currentShip&&this.currentShip.x},get y(){return this.currentShip&&this.currentShip.y},show(t,e,i){this.currentShip&&this.currentShip.show(t,e,i)},behavior(){this.currentShip&&this.currentShip.behavior()},move(t){if(this.currentShip)if(null!==this.moveTarget&&this.moveTarget>this.x&&this.moveTarget<this.x+s.f.widthPx&&(this.moveTarget=null,this.moving=!1),this.moving||this.plannedTravel>0){let e=this.speed*t/1e3;switch(this.direction){case h.d.left:this.currentShip.x-=e;break;case h.d.right:this.currentShip.x+=e}this.currentShip.x<0&&(this.currentShip.x=0),this.currentShip.x>s.d.screenWidth-s.f.widthPx&&(this.currentShip.x=s.d.screenWidth-s.f.widthPx),this.plannedTravel-=e}else this.currentShip.x=Math.round(this.currentShip.x)},fire(){this.currentShip&&this.currentShip.fire()},setBarrage(t){this.currentShip&&(this.currentShip.barrage=t)},checkCollisions(t){this.currentShip&&i.i(c.k)(t.x,t.y,this.currentShip.x,this.currentShip.y)&&(t.destroy(),u.b(l),this.currentShip.missile&&this.currentShip.missile.status!==h.e.launched?(c.d.pub(h.b.levelEntityCreated,h.b.effect,a.a(this.currentShip)),c.d.pub(h.b.levelEntityCreated,h.b.effect,a.a(this.currentShip.missile)),this.currentShip.missile.destroy()):c.d.pub(h.b.levelEntityCreated,h.b.effect,a.a(this.currentShip,t)),this.extraShips.length?(this.currentShip=null,setTimeout(()=>{this.currentShip=this.extraShips.pop(),c.d.pub(h.b.shipListUpdate,this.extraShips)},s.e.respawnDelay),c.d.pub(h.b.shipListUpdate,this.extraShips)):(this.lastShip=this.currentShip,c.d.pub(h.b.gameOver),this.currentShip=null))}},y={color:s.e.defaultColor}},function(t,e,i){"use strict";function n(){const t=s.c.pixelSize||s.d.pixelSize,e=Object.create(o);e.ctx=i.i(h.b)(),e.ctx.canvas.width=s.d.screenWidth,e.ctx.canvas.height=s.d.fullScreenHeight,e.stars=[];const n=i.i(h.n)(s.c.maxStars,2);for(let r=0;r<n;r+=1){const n={x:i.i(h.j)(s.c.maxBeamLength,s.d.screenWidth/t-2*s.c.maxBeamLength-1),y:i.i(h.j)(s.c.maxBeamLength,s.d.fullScreenHeight/t-2*s.c.maxBeamLength-1),intensity:i.i(h.j)(100*s.c.maxIntensity)/100,hue:s.c.hue[i.i(h.j)(0,s.c.hue.length-1)]};e.stars.push(n)}return e.draw(),e}var s=i(0),h=i(2);e.a=n;const o={ctx:null,draw(){const t=s.c.pixelSize||s.d.pixelSize;this.ctx.fillStyle=i.i(h.c)(s.c.background),this.ctx.fillRect(0,0,s.d.screenWidth,s.d.fullScreenHeight),this.stars.forEach(e=>{i.i(h.g)(this.ctx,e.x*t,e.y*t,i.i(h.i)(e.hue,e.intensity),t);let n=0,o=e.intensity*s.c.initialBeamIntensity;for(;o>s.c.minBeamIntensity&&n<=s.c.maxBeamLength;)i.i(h.g)(this.ctx,(e.x-n)*t,e.y*t,i.i(h.i)(e.hue,o),t),i.i(h.g)(this.ctx,(e.x+n)*t,e.y*t,i.i(h.i)(e.hue,o),t),i.i(h.g)(this.ctx,e.x*t,(e.y-n)*t,i.i(h.i)(e.hue,o),t),i.i(h.g)(this.ctx,e.x*t,(e.y+n)*t,i.i(h.i)(e.hue,o),t),n+=1,o=e.intensity*s.c.initialBeamIntensity-n*s.c.beamFadeRate})},show(t){i.i(h.f)(t,this.ctx,[0,0])}}},function(t,e,i){"use strict";function n(t){S||l(n),x=x||t,P=t-x,P<1e3/a.j.maxFPS||(x=t,P=Math.min(P,1e3/a.j.minFPS),P=Math.max(P,1e3/a.j.maxFPS),g.clearRect(0,0,a.d.screenWidth,a.d.fullScreenHeight),w=p.drawFrame(Math.max(P),1e3/a.j.minFPS),y.clearRect(0,0,a.d.screenWidth,a.d.fullScreenHeight),i.i(c.d)(y,g,[0,0]),a.j.showFPS&&(Date.now()-v>=1e3?(v=Date.now(),b.clearRect(0,0,20,12),b.fillStyle=a.j.systemInfoColor,b.font=a.j.systemInfoText,b.fillText(z,0,10),z=1):z+=1),w&&(r(),p.end(),m(w)))}function s(t){return g=g||i.i(c.a)(),p=t.animation,p.init(t.data,g),v=Date.now(),l(n),u.on(d.b.gamePaused,h),u.on(d.b.gameResumed,o),new Promise(t=>{m=(e=>t(e))})}function h(){S||(S=!0,f(n),x=null)}function o(t){S=!1,l(n)}function r(){f(n),x=null,p.end(),u.off(h),u.off(o),m(w)}var a=i(0),c=i(14),u=i(15),d=i(1);e.a=s;const l=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame,f=window.cancelAnimationFrame||window.mozCancelAnimationFrame,y=document.getElementById("gameScreen").getContext("2d"),b=document.getElementById("interfaceScreen").getContext("2d");let g,p,m,w,x,S,P,v,z=0},function(t,e,i){"use strict";e.a={meta:{name:"c64",points:8,properties:{fontDescent:2,fontAscent:6,defaultChar:0},boundingBox:{width:8,height:8,x:0,y:-2}},glyphs:{0:{bytes:[60,102,110,118,102,102,60,0]},1:{bytes:[24,24,56,24,24,24,126,0]},2:{bytes:[60,102,6,12,48,96,126,0]},3:{bytes:[60,102,6,28,6,102,60,0]},4:{bytes:[6,14,30,102,127,6,6,0]},5:{bytes:[126,96,124,6,6,102,60,0]},6:{bytes:[60,102,96,124,102,102,60,0]},7:{bytes:[126,102,12,24,24,24,24,0]},8:{bytes:[60,102,102,60,102,102,60,0]},9:{bytes:[60,102,102,62,6,102,60,0]}," ":{bytes:[0,0,0,0,0,0,0,0]},"!":{bytes:[24,24,24,24,0,0,24,0]},'"':{bytes:[102,102,102,0,0,0,0,0]},"#":{bytes:[102,102,255,102,255,102,102,0]},$:{bytes:[24,62,96,60,6,124,24,0]},"%":{bytes:[98,102,12,24,48,102,70,0]},"&":{bytes:[60,102,60,56,103,102,63,0]},"'":{bytes:[6,12,24,0,0,0,0,0]},"(":{bytes:[12,24,48,48,48,24,12,0]},")":{bytes:[48,24,12,12,12,24,48,0]},"*":{bytes:[0,102,60,255,60,102,0,0]},"+":{bytes:[0,24,24,126,24,24,0,0]},",":{bytes:[0,0,0,0,0,24,24,48]},"-":{bytes:[0,0,0,126,0,0,0,0]},".":{bytes:[0,0,0,0,0,24,24,0]},"/":{bytes:[0,3,6,12,24,48,96,0]},":":{bytes:[0,0,24,0,0,24,0,0]},";":{bytes:[0,0,24,0,0,24,24,48]},"<":{bytes:[14,24,48,96,48,24,14,0]},"=":{bytes:[0,0,126,0,126,0,0,0]},">":{bytes:[112,24,12,6,12,24,112,0]},"?":{bytes:[60,102,6,12,24,0,24,0]},"@":{bytes:[60,102,110,110,96,98,60,0]},A:{bytes:[24,60,102,126,102,102,102,0]},B:{bytes:[124,102,102,124,102,102,124,0]},C:{bytes:[60,102,96,96,96,102,60,0]},D:{bytes:[120,108,102,102,102,108,120,0]},E:{bytes:[126,96,96,120,96,96,126,0]},F:{bytes:[126,96,96,120,96,96,96,0]},G:{bytes:[60,102,96,110,102,102,60,0]},H:{bytes:[102,102,102,126,102,102,102,0]},I:{bytes:[60,24,24,24,24,24,60,0]},J:{bytes:[30,12,12,12,12,108,56,0]},K:{bytes:[102,108,120,112,120,108,102,0]},L:{bytes:[96,96,96,96,96,96,126,0]},M:{bytes:[99,119,127,107,99,99,99,0]},N:{bytes:[102,118,126,126,110,102,102,0]},O:{bytes:[60,102,102,102,102,102,60,0]},P:{bytes:[124,102,102,124,96,96,96,0]},Q:{bytes:[60,102,102,102,102,60,14,0]},R:{bytes:[124,102,102,124,120,108,102,0]},S:{bytes:[60,102,96,60,6,102,60,0]},T:{bytes:[126,24,24,24,24,24,24,0]},U:{bytes:[102,102,102,102,102,102,60,0]},V:{bytes:[102,102,102,102,102,60,24,0]},W:{bytes:[99,99,99,107,127,119,99,0]},X:{bytes:[102,102,60,24,60,102,102,0]},Y:{bytes:[102,102,102,60,24,24,24,0]},Z:{bytes:[126,6,12,24,48,96,126,0]},"[":{bytes:[60,48,48,48,48,48,60,0]},"\\":{bytes:[0,96,48,24,12,6,3,0]},"]":{bytes:[60,12,12,12,12,12,60,0]},"^":{bytes:[0,24,60,126,24,24,24,24]},_:{bytes:[0,0,0,0,0,0,0,255]},"`":{bytes:[96,48,24,0,0,0,0,0]},a:{bytes:[0,0,60,6,62,102,62,0]},b:{bytes:[0,96,96,124,102,102,124,0]},c:{bytes:[0,0,60,96,96,96,60,0]},d:{bytes:[0,6,6,62,102,102,62,0]},e:{bytes:[0,0,60,102,126,96,60,0]},f:{bytes:[0,14,24,62,24,24,24,0]},g:{bytes:[0,0,62,102,102,62,6,124]},h:{bytes:[0,96,96,124,102,102,102,0]},i:{bytes:[0,24,0,56,24,24,60,0]},j:{bytes:[0,6,0,6,6,6,6,60]},k:{bytes:[0,96,96,108,120,108,102,0]},l:{bytes:[0,56,24,24,24,24,60,0]},m:{bytes:[0,0,102,127,127,107,99,0]},n:{bytes:[0,0,124,102,102,102,102,0]},o:{bytes:[0,0,60,102,102,102,60,0]},p:{bytes:[0,0,124,102,102,124,96,96]},q:{bytes:[0,0,62,102,102,62,6,6]},r:{bytes:[0,0,124,102,96,96,96,0]},s:{bytes:[0,0,62,96,60,6,124,0]},t:{bytes:[0,24,126,24,24,24,14,0]},u:{bytes:[0,0,102,102,102,102,62,0]},v:{bytes:[0,0,102,102,102,60,24,0]},w:{bytes:[0,0,99,107,127,62,54,0]},x:{bytes:[0,0,102,60,24,60,102,0]},y:{bytes:[0,0,102,102,102,62,12,120]},z:{bytes:[0,0,126,12,24,48,126,0]},"{":{bytes:[28,48,48,96,48,48,28,0]},"|":{bytes:[24,24,24,24,24,24,24,24]},"}":{bytes:[56,12,12,6,12,12,56,0]},"~":{bytes:[0,50,76,0,0,0,0,0]}}}},function(t,e,i){"use strict";e.a={meta:{name:"-Gohu-GohuFont-Medium-R-Normal--11-80-100-100-C-60-ISO8859-1",points:11,properties:{fontAscent:9,fontDescent:2},boundingBox:{width:6,height:11,x:0,y:-2}},glyphs:{0:{bytes:[112,136,152,168,200,136,112],width:5,height:7,y:0},1:{bytes:[32,96,160,32,32,32,32],width:3,height:7,y:0},2:{bytes:[112,136,8,16,32,64,248],width:5,height:7,y:0},3:{bytes:[112,136,8,48,8,136,112],width:5,height:7,y:0},4:{bytes:[16,48,80,144,248,16,16],width:5,height:7,y:0},5:{bytes:[248,128,240,8,8,136,112],width:5,height:7,y:0},6:{bytes:[112,128,240,136,136,136,112],width:5,height:7,y:0},7:{bytes:[248,8,16,16,32,32,32],width:5,height:7,y:0},8:{bytes:[112,136,136,112,136,136,112],width:5,height:7,y:0},9:{bytes:[112,136,136,120,8,8,112],width:5,height:7,y:0}," ":{bytes:[],width:0,height:0,y:0},"!":{bytes:[128,128,128,128,128,128,0,128],width:1,height:8,x:2,y:0},'"':{bytes:[160,160,160],width:3,height:3,x:1,y:5},"#":{bytes:[80,80,248,80,248,80,80],width:5,height:7,y:1},$:{bytes:[32,112,168,160,112,40,168,112,32],width:5,height:9,y:-1},"%":{bytes:[72,168,80,32,80,168,144],width:5,height:7,y:0},"&":{bytes:[96,144,160,64,168,144,104],width:5,height:7,y:0},"'":{bytes:[128,128,128],width:1,height:3,x:2,y:5},"(":{bytes:[32,64,64,128,128,128,64,64,32],width:3,height:9,x:1,y:-1},")":{bytes:[128,64,64,32,32,32,64,64,128],width:3,height:9,x:1,y:-1},"*":{bytes:[32,168,112,168,32],width:5,height:5,y:1},"+":{bytes:[32,32,248,32,32],width:5,height:5,y:1},",":{bytes:[192,192,64,128],width:2,height:4,x:1},"-":{bytes:[248],width:5,height:1,y:3},".":{bytes:[192,192],width:2,height:2,x:1,y:0},"/":{bytes:[8,8,16,16,32,32,64,64,128,128],width:5,height:10},":":{bytes:[192,192,0,192,192],width:2,height:5,x:2,y:0},";":{bytes:[192,192,0,192,192,64,128],width:2,height:7,x:1},"<":{bytes:[16,32,64,128,64,32,16],width:4,height:7,x:1,y:0},"=":{bytes:[248,0,248],width:5,height:3,y:2},">":{bytes:[128,64,32,16,32,64,128],width:4,height:7,x:1,y:0},"?":{bytes:[112,136,8,16,32,0,32],width:5,height:7,y:0},"@":{bytes:[112,136,184,168,184,128,120],width:5,height:7,y:0},A:{bytes:[112,136,136,248,136,136,136,136],width:5,height:8,y:0},B:{bytes:[240,136,136,240,136,136,136,240],width:5,height:8,y:0},C:{bytes:[112,136,128,128,128,128,136,112],width:5,height:8,y:0},D:{bytes:[240,136,136,136,136,136,136,240],width:5,height:8,y:0},E:{bytes:[248,128,128,240,128,128,128,248],width:5,height:8,y:0},F:{bytes:[248,128,128,240,128,128,128,128],width:5,height:8,y:0},G:{bytes:[112,136,128,184,136,136,136,112],width:5,height:8,y:0},H:{bytes:[136,136,136,248,136,136,136,136],width:5,height:8,y:0},I:{bytes:[224,64,64,64,64,64,64,224],width:3,height:8,x:1,y:0},J:{bytes:[8,8,8,8,8,136,136,112],width:5,height:8,y:0},K:{bytes:[136,144,160,192,160,144,136,136],width:5,height:8,y:0},L:{bytes:[128,128,128,128,128,128,128,248],width:5,height:8,y:0},M:{bytes:[136,216,168,168,136,136,136,136],width:5,height:8,y:0},N:{bytes:[136,200,200,168,168,152,152,136],width:5,height:8,y:0},O:{bytes:[112,136,136,136,136,136,136,112],width:5,height:8,y:0},P:{bytes:[240,136,136,240,128,128,128,128],width:5,height:8,y:0},Q:{bytes:[112,136,136,136,136,168,144,104,8],width:5,height:9,y:-1},R:{bytes:[240,136,136,240,144,136,136,136],width:5,height:8,y:0},S:{bytes:[112,136,128,112,8,8,136,112],width:5,height:8,y:0},T:{bytes:[248,32,32,32,32,32,32,32],width:5,height:8,y:0},U:{bytes:[136,136,136,136,136,136,136,112],width:5,height:8,y:0},V:{bytes:[136,136,136,136,80,80,32,32],width:5,height:8,y:0},W:{bytes:[136,136,136,168,168,168,80,80],width:5,height:8,y:0},X:{bytes:[136,136,80,32,80,136,136,136],width:5,height:8,y:0},Y:{bytes:[136,136,80,32,32,32,32,32],width:5,height:8,y:0},Z:{bytes:[248,8,16,32,64,128,128,248],width:5,height:8,y:0},"[":{bytes:[224,128,128,128,128,128,128,128,224],width:3,height:9,x:2,y:-1},"\\":{bytes:[128,128,64,64,32,32,16,16,8,8],width:5,height:10,x:1},"]":{bytes:[224,32,32,32,32,32,32,32,224],width:3,height:9,y:-1},"^":{bytes:[32,80,136],width:5,height:3,y:4},_:{bytes:[252],height:1,y:-1},"`":{bytes:[128,64,32],width:3,height:3,x:1,y:5},a:{bytes:[112,8,120,136,120],width:5,height:5,y:0},b:{bytes:[128,128,128,176,200,136,136,240],width:5,height:8,y:0},c:{bytes:[120,128,128,128,120],width:5,height:5,y:0},d:{bytes:[8,8,8,120,136,136,152,104],width:5,height:8,y:0},e:{bytes:[112,136,248,128,120],width:5,height:5,y:0},f:{bytes:[96,128,128,224,128,128,128,128],width:3,height:8,x:1,y:0},g:{bytes:[120,136,136,152,104,8,112],width:5,height:7},h:{bytes:[128,128,128,176,200,136,136,136],width:5,height:8,y:0},i:{bytes:[64,0,192,64,64,64,96],width:3,height:7,x:1,y:0},j:{bytes:[32,0,96,32,32,32,32,32,192],width:3,height:9},k:{bytes:[128,128,128,144,160,224,144,136],width:5,height:8,y:0},l:{bytes:[192,64,64,64,64,64,64,48],width:4,height:8,x:1,y:0},m:{bytes:[240,168,168,168,168],width:5,height:5,y:0},n:{bytes:[240,136,136,136,136],width:5,height:5,y:0},o:{bytes:[112,136,136,136,112],width:5,height:5,y:0},p:{bytes:[176,200,136,136,240,128,128],width:5,height:7},q:{bytes:[120,136,136,152,104,8,8],width:5,height:7},r:{bytes:[176,200,128,128,128],width:5,height:5,y:0},s:{bytes:[112,128,112,8,240],width:5,height:5,y:0},t:{bytes:[64,64,64,240,64,64,64,48],width:4,height:8,y:0},u:{bytes:[136,136,136,152,104],width:5,height:5,y:0},v:{bytes:[136,136,80,80,32],width:5,height:5,y:0},w:{bytes:[136,168,168,168,80],width:5,height:5,y:0},x:{bytes:[136,80,32,80,136],width:5,height:5,y:0},y:{bytes:[136,136,136,152,104,8,112],width:5,height:7},z:{bytes:[248,16,32,64,248],width:5,height:5,y:0},"{":{bytes:[24,32,32,32,32,192,32,32,32,32,24]},"|":{bytes:[128,128,128,128,128,128,128,128,128],width:1,height:9,x:2,y:-1},"}":{bytes:[192,32,32,32,32,24,32,32,32,32,192]},"~":{bytes:[64,168,16],width:5,height:3,y:2}}}},function(t,e,i){"use strict";var n=i(23),s=i(24),h=i(26),o=i(27);e.a={c64:n.a,gohufont:s.a,pressStart:h.a,powerline:o.a}},function(t,e,i){"use strict";e.a={meta:{name:"Press-Start",points:8,properties:{fontAscent:8,fontDescent:0},boundingBox:{width:8,height:8,x:0,y:0}},glyphs:{0:{bytes:[56,76,198,198,198,100,56],width:7,height:7,y:1},1:{bytes:[48,112,48,48,48,48,252],width:6,height:7,x:1,y:1},2:{bytes:[124,198,14,60,120,224,254],width:7,height:7,y:1},3:{bytes:[126,12,24,60,6,198,124],width:7,height:7,y:1},4:{bytes:[28,60,108,204,254,12,12],width:7,height:7,y:1},5:{bytes:[252,192,252,6,6,198,124],width:7,height:7,y:1},6:{bytes:[60,96,192,252,198,198,124],width:7,height:7,y:1},7:{bytes:[254,198,12,24,48,48,48],width:7,height:7,y:1},8:{bytes:[120,196,228,120,158,134,124],width:7,height:7,y:1},9:{bytes:[124,198,198,126,6,12,120],width:7,height:7,y:1}," ":{bytes:[0],width:1,height:1},"!":{bytes:[224,224,224,192,192,0,192],width:3,height:7,x:2,y:1},'"':{bytes:[216,216,216],width:5,height:3,x:1,y:5},"#":{bytes:[108,254,108,108,108,254,108],width:7,height:7,y:1},$:{bytes:[16,124,208,124,22,252,16],width:7,height:7,y:1},"%":{bytes:[98,164,200,16,38,74,140],width:7,height:7,y:1},"&":{bytes:[112,216,216,112,218,204,126],width:7,height:7,y:1},"'":{bytes:[192,192,192],width:2,height:3,x:2,y:5},"(":{bytes:[48,96,192,192,192,96,48],width:4,height:7,x:2,y:1},")":{bytes:[192,96,48,48,48,96,192],width:4,height:7,x:1,y:1},"*":{bytes:[108,56,254,56,108],width:7,height:5,y:2},"+":{bytes:[48,48,252,48,48],width:6,height:5,x:1,y:2},",":{bytes:[96,96,192],width:3,height:3,x:1},"-":{bytes:[252],width:6,height:1,x:1,y:4},".":{bytes:[192,192],width:2,height:2,x:2,y:1},"/":{bytes:[2,4,8,16,32,64,128],width:7,height:7,y:1},":":{bytes:[192,192,0,192,192],width:2,height:5,x:2,y:2},";":{bytes:[96,96,0,96,96,192],width:3,height:6,x:1,y:1},"<":{bytes:[24,48,96,192,96,48,24],width:5,height:7,x:1,y:1},"=":{bytes:[254,0,254],width:7,height:3,y:3},">":{bytes:[192,96,48,24,48,96,192],width:5,height:7,x:1,y:1},"?":{bytes:[124,254,198,12,56,0,56],width:7,height:7,y:1},"@":{bytes:[124,130,186,170,190,128,124],width:7,height:7,y:1},A:{bytes:[56,108,198,198,254,198,198],width:7,height:7,y:1},B:{bytes:[252,198,198,252,198,198,252],width:7,height:7,y:1},C:{bytes:[60,102,192,192,192,102,60],width:7,height:7,y:1},D:{bytes:[248,204,198,198,198,204,248],width:7,height:7,y:1},E:{bytes:[254,192,192,252,192,192,254],width:7,height:7,y:1},F:{bytes:[254,192,192,252,192,192,192],width:7,height:7,y:1},G:{bytes:[62,96,192,206,198,102,62],width:7,height:7,y:1},H:{bytes:[198,198,198,254,198,198,198],width:7,height:7,y:1},I:{bytes:[252,48,48,48,48,48,252],width:6,height:7,x:1,y:1},J:{bytes:[6,6,6,6,6,198,124],width:7,height:7,y:1},K:{bytes:[198,204,216,240,248,220,206],width:7,height:7,y:1},L:{bytes:[192,192,192,192,192,192,252],width:6,height:7,x:1,y:1},M:{bytes:[198,238,254,254,214,198,198],width:7,height:7,y:1},N:{bytes:[198,230,246,254,222,206,198],width:7,height:7,y:1},O:{bytes:[124,198,198,198,198,198,124],width:7,height:7,y:1},P:{bytes:[252,198,198,198,252,192,192],width:7,height:7,y:1},Q:{bytes:[124,198,198,198,222,204,122],width:7,height:7,y:1},R:{bytes:[252,198,198,206,248,220,206],width:7,height:7,y:1},S:{bytes:[120,204,192,124,6,198,124],width:7,height:7,y:1},T:{bytes:[252,48,48,48,48,48,48],width:6,height:7,x:1,y:1},U:{bytes:[198,198,198,198,198,198,124],width:7,height:7,y:1},V:{bytes:[198,198,198,238,124,56,16],width:7,height:7,y:1},W:{bytes:[198,198,214,254,254,238,198],width:7,height:7,y:1},X:{bytes:[198,238,124,56,124,238,198],width:7,height:7,y:1},Y:{bytes:[204,204,204,120,48,48,48],width:6,height:7,x:1,y:1},Z:{bytes:[254,14,28,56,112,224,254],width:7,height:7,y:1},"[":{bytes:[240,192,192,192,192,192,240],width:4,height:7,x:2,y:1},"\\":{bytes:[128,64,32,16,8,4,2],width:7,height:7,y:1},"]":{bytes:[240,48,48,48,48,48,240],width:4,height:7,x:1,y:1},"^":{bytes:[112,216],width:5,height:2,x:1,y:6},_:{bytes:[254],width:7,height:1},"`":{bytes:[128,64],width:2,height:2,x:3,y:6},a:{bytes:[124,6,126,198,126],width:7,height:5,y:1},b:{bytes:[192,192,252,198,198,198,124],width:7,height:7,y:1},c:{bytes:[126,192,192,192,126],width:7,height:5,y:1},d:{bytes:[6,6,126,198,198,198,126],width:7,height:7,y:1},e:{bytes:[124,198,254,192,124],width:7,height:5,y:1},f:{bytes:[28,48,252,48,48,48,48],width:6,height:7,x:1,y:1},g:{bytes:[126,198,198,126,6,124],width:7,height:6},h:{bytes:[192,192,252,198,198,198,198],width:7,height:7,y:1},i:{bytes:[48,0,112,48,48,48,252],width:6,height:7,x:1,y:1},j:{bytes:[24,0,56,24,24,24,24,240],width:5,x:1},k:{bytes:[192,192,206,252,248,220,206],width:7,height:7,y:1},l:{bytes:[112,48,48,48,48,48,252],width:6,height:7,x:1,y:1},m:{bytes:[252,182,182,182,182],width:7,height:5,y:1},n:{bytes:[252,198,198,198,198],width:7,height:5,y:1},o:{bytes:[124,198,198,198,124],width:7,height:5,y:1},p:{bytes:[252,198,198,252,192,192],width:7,height:6},q:{bytes:[126,198,198,126,6,6],width:7,height:6},r:{bytes:[220,224,192,192,192],width:6,height:5,x:1,y:1},s:{bytes:[124,192,124,6,252],width:7,height:5,y:1},t:{bytes:[48,48,252,48,48,48,48],width:6,height:7,x:1,y:1},u:{bytes:[198,198,198,198,126],width:7,height:5,y:1},v:{bytes:[204,204,204,120,48],width:6,height:5,x:1,y:1},w:{bytes:[182,182,182,182,126],width:7,height:5,y:1},x:{bytes:[198,254,56,254,198],width:7,height:5,y:1},y:{bytes:[198,198,198,126,6,124],width:7,height:6},z:{bytes:[254,28,56,112,254],width:7,height:5,y:1},"{":{bytes:[48,96,96,192,96,96,48],width:4,height:7,x:2,y:1},"|":{bytes:[192,192,192,192,192,192,192],width:2,height:7,x:3,y:1},"}":{bytes:[192,96,96,48,96,96,192],width:4,height:7,x:1,y:1},"~":{bytes:[112,186,28],width:7,height:3,y:3}}}},function(t,e,i){"use strict";e.a={meta:{name:"-xos4-TerminessPowerline-Bold-R-Normal--12-120-72-72-C-60-ISO10646-1",points:12,properties:{defaultChar:-3,fontDescent:2,fontAscent:10},boundingBox:{width:6,height:12,x:0,y:-2}},glyphs:{0:{bytes:[0,0,112,136,152,168,200,136,136,112,0,0]},1:{bytes:[0,0,32,96,32,32,32,32,32,112,0,0]},2:{bytes:[0,0,112,136,136,16,32,64,128,248,0,0]},3:{bytes:[0,0,112,136,8,48,8,8,136,112,0,0]},4:{bytes:[0,0,8,24,40,72,136,248,8,8,0,0]},5:{bytes:[0,0,248,128,128,240,8,8,136,112,0,0]},6:{bytes:[0,0,112,128,128,240,136,136,136,112,0,0]},7:{bytes:[0,0,248,8,8,16,16,32,32,32,0,0]},8:{bytes:[0,0,112,136,136,112,136,136,136,112,0,0]},9:{bytes:[0,0,112,136,136,136,120,8,8,112,0,0]}," ":{bytes:[0,0,0,0,0,0,0,0,0,0,0,0]},"!":{bytes:[0,0,32,32,32,32,32,0,32,32,0,0]},'"':{bytes:[0,80,80,80,0,0,0,0,0,0,0,0]},"#":{bytes:[0,0,80,80,248,80,80,248,80,80,0,0]},$:{bytes:[0,0,32,112,168,160,112,40,168,112,32,0]},"%":{bytes:[0,0,72,168,80,16,32,40,84,72,0,0]},"&":{bytes:[0,0,32,80,80,32,104,144,144,104,0,0]},"'":{bytes:[0,32,32,32,0,0,0,0,0,0,0,0]},"(":{bytes:[0,0,16,32,64,64,64,64,32,16,0,0]},")":{bytes:[0,0,64,32,16,16,16,16,32,64,0,0]},"*":{bytes:[0,0,0,0,80,32,248,32,80,0,0,0]},"+":{bytes:[0,0,0,0,32,32,248,32,32,0,0,0]},",":{bytes:[0,0,0,0,0,0,0,0,32,32,64,0]},"-":{bytes:[0,0,0,0,0,0,248,0,0,0,0,0]},".":{bytes:[0,0,0,0,0,0,0,0,32,32,0,0]},"/":{bytes:[0,0,8,8,16,16,32,32,64,64,0,0]},":":{bytes:[0,0,0,0,32,32,0,0,32,32,0,0]},";":{bytes:[0,0,0,0,32,32,0,0,32,32,64,0]},"<":{bytes:[0,0,0,8,16,32,64,32,16,8,0,0]},"=":{bytes:[0,0,0,0,248,0,0,248,0,0,0,0]},">":{bytes:[0,0,0,64,32,16,8,16,32,64,0,0]},"?":{bytes:[0,0,112,136,136,16,32,0,32,32,0,0]},"@":{bytes:[0,0,112,136,152,168,168,152,128,120,0,0]},A:{bytes:[0,0,112,136,136,136,248,136,136,136,0,0]},B:{bytes:[0,0,240,136,136,240,136,136,136,240,0,0]},C:{bytes:[0,0,112,136,128,128,128,128,136,112,0,0]},D:{bytes:[0,0,224,144,136,136,136,136,144,224,0,0]},E:{bytes:[0,0,248,128,128,240,128,128,128,248,0,0]},F:{bytes:[0,0,248,128,128,240,128,128,128,128,0,0]},G:{bytes:[0,0,112,136,128,128,184,136,136,112,0,0]},H:{bytes:[0,0,136,136,136,248,136,136,136,136,0,0]},I:{bytes:[0,0,112,32,32,32,32,32,32,112,0,0]},J:{bytes:[0,0,56,16,16,16,16,144,144,96,0,0]},K:{bytes:[0,0,136,144,160,192,192,160,144,136,0,0]},L:{bytes:[0,0,128,128,128,128,128,128,128,248,0,0]},M:{bytes:[0,0,136,216,168,168,136,136,136,136,0,0]},N:{bytes:[0,0,136,136,200,168,152,136,136,136,0,0]},O:{bytes:[0,0,112,136,136,136,136,136,136,112,0,0]},P:{bytes:[0,0,240,136,136,136,240,128,128,128,0,0]},Q:{bytes:[0,0,112,136,136,136,136,136,168,112,8,0]},R:{bytes:[0,0,240,136,136,136,240,160,144,136,0,0]},S:{bytes:[0,0,112,136,128,112,8,8,136,112,0,0]},T:{bytes:[0,0,248,32,32,32,32,32,32,32,0,0]},U:{bytes:[0,0,136,136,136,136,136,136,136,112,0,0]},V:{bytes:[0,0,136,136,136,80,80,80,32,32,0,0]},W:{bytes:[0,0,136,136,136,136,168,168,216,136,0,0]},X:{bytes:[0,0,136,136,80,32,32,80,136,136,0,0]},Y:{bytes:[0,0,136,136,80,80,32,32,32,32,0,0]},Z:{bytes:[0,0,248,8,16,32,64,128,128,248,0,0]},"[":{bytes:[0,0,112,64,64,64,64,64,64,112,0,0]},"\\":{bytes:[0,0,64,64,32,32,16,16,8,8,0,0]},"]":{bytes:[0,0,112,16,16,16,16,16,16,112,0,0]},"^":{bytes:[0,32,80,136,0,0,0,0,0,0,0,0]},_:{bytes:[0,0,0,0,0,0,0,0,0,0,248,0]},"`":{bytes:[64,32,0,0,0,0,0,0,0,0,0,0]},a:{bytes:[0,0,0,0,112,8,120,136,136,120,0,0]},b:{bytes:[0,0,128,128,240,136,136,136,136,240,0,0]},c:{bytes:[0,0,0,0,112,136,128,128,136,112,0,0]},d:{bytes:[0,0,8,8,120,136,136,136,136,120,0,0]},e:{bytes:[0,0,0,0,112,136,248,128,136,112,0,0]},f:{bytes:[0,0,24,32,112,32,32,32,32,32,0,0]},g:{bytes:[0,0,0,0,120,136,136,136,136,120,8,112]},h:{bytes:[0,0,128,128,240,136,136,136,136,136,0,0]},i:{bytes:[0,32,32,0,96,32,32,32,32,112,0,0]},j:{bytes:[0,8,8,0,24,8,8,8,8,8,72,48]},k:{bytes:[0,0,64,64,72,80,96,96,80,72,0,0]},l:{bytes:[0,0,96,32,32,32,32,32,32,112,0,0]},m:{bytes:[0,0,0,0,240,168,168,168,168,168,0,0]},n:{bytes:[0,0,0,0,240,136,136,136,136,136,0,0]},o:{bytes:[0,0,0,0,112,136,136,136,136,112,0,0]},p:{bytes:[0,0,0,0,240,136,136,136,136,240,128,128]},q:{bytes:[0,0,0,0,120,136,136,136,136,120,8,8]},r:{bytes:[0,0,0,0,184,192,128,128,128,128,0,0]},s:{bytes:[0,0,0,0,120,128,112,8,8,240,0,0]},t:{bytes:[0,0,32,32,112,32,32,32,32,24,0,0]},u:{bytes:[0,0,0,0,136,136,136,136,136,120,0,0]},v:{bytes:[0,0,0,0,136,136,80,80,32,32,0,0]},w:{bytes:[0,0,0,0,136,136,168,168,168,112,0,0]},x:{bytes:[0,0,0,0,136,80,32,32,80,136,0,0]},y:{bytes:[0,0,0,0,136,136,136,136,136,120,8,112]},z:{bytes:[0,0,0,0,248,16,32,64,128,248,0,0]},"{":{bytes:[0,0,24,32,32,64,32,32,32,24,0,0]},"|":{bytes:[0,0,32,32,32,32,32,32,32,32,0,0]},"}":{bytes:[0,0,96,16,16,8,16,16,16,96,0,0]},"~":{bytes:[0,72,168,144,0,0,0,0,0,0,0,0]}}}},function(t,e,i){"use strict";function n(t){const e=Object.create(g);e.width=(a.f.widthPx+a.n.shipPaddingPx)*t.width,e.height=(a.f.heightPx+a.n.linePaddingPx)*t.height,e.ctx=i.i(r.b)(e.width,e.height),e.x=(a.d.screenWidth-e.width)/2,e.startingPosition=.1*a.d.screenHeight*t.levelNumber,e.y=e.startingPosition-a.d.screenHeight,e.direction=i.i(r.j)(0,1)?c.d.left:c.d.right,e.ships=[];const n=[];for(let o=0;o<t.shipTypes;o+=1){const t=s.a();t.missileType=h.a(),n.push(t)}switch(t.shipArrangement){case c.h.oneTypePerLine:for(let i=0;i<t.height;i++)for(let s=0;s<t.width;s++){const t=Object.create(n[i]);t.formation=e,t.x=Math.floor(a.n.shipPaddingPx/2)+(a.f.widthPx+a.n.shipPaddingPx)*s,t.y=Math.floor(a.n.linePaddingPx/2)+(a.f.heightPx+a.n.linePaddingPx)*i,e.ships.push(t)}}return e.ships.forEach(t=>t.show(e.ctx)),e}var s=i(3),h=i(12),o=i(11),r=i(2),a=i(0),c=i(1),u=i(9),d=i(8);e.a=n;let l,f,y;const b=u.a(d.a.explosion.enemy),g={advanceSpeed:.05,evadeSpeed:.07,advanceAmount:.05,advanceStart:null,direction:null,startingPosition:null,x:null,y:null,ctx:null,ships:null,width:null,height:null,show(t){i.i(r.f)(t,this.ctx,[this.x,this.y])},behavior(){if(this.y+this.ships[this.ships.length-1].y+a.f.heightPx>=a.d.screenHeight&&r.d.pub(c.b.gameOver),this.direction===c.d.down?this.y-this.advanceStart>=this.advanceAmount*a.d.screenHeight&&(this.direction=0===this.x?c.d.right:c.d.left):(this.x<=0||this.x+this.ctx.canvas.width>=a.d.screenWidth)&&(this.advanceStart=this.y,this.direction=c.d.down,this.x=this.x<=0?0:a.d.screenWidth-this.ctx.canvas.width),1===i.i(r.j)(this.ships.length)&&this.ships[i.i(r.j)(0,this.ships.length-1)].armMissile(),1===i.i(r.j)(3*this.ships.length)){let t=this.ships.filter(t=>t.missile);t.length&&t[i.i(r.j)(0,t.length-1)].fire()}},move(t){if(this.y<this.startingPosition)this.y+=a.n.warpSpeed*t/1e3;else switch(this.direction){case c.d.left:this.x-=this.evadeSpeed*a.d.screenWidth*t/1e3;break;case c.d.right:this.x+=this.evadeSpeed*a.d.screenWidth*t/1e3;break;case c.d.up:this.y-=this.advanceSpeed*a.d.screenHeight*t/1e3;break;case c.d.down:this.y+=this.advanceSpeed*a.d.screenHeight*t/1e3}},checkCollisions(t){if(l=t.x-this.x,f=t.y-this.y,!(l<0||f<0||l>this.width||f>this.height))for(y=this.ships.length-1;y>=0;y-=1)if(i.i(r.k)(l,f,this.ships[y].x,this.ships[y].y)){this.ships[y].missile&&this.ships[y].missile.status!==c.e.launched?(r.d.pub(c.b.levelEntityCreated,c.b.effect,o.a(this.ships[y])),r.d.pub(c.b.levelEntityCreated,c.b.effect,o.a(this.ships[y].missile))):r.d.pub(c.b.levelEntityCreated,c.b.effect,o.a(this.ships[y],t)),this.destroyShip(y),t.destroy();break}},destroyShip(t){r.d.pub(c.b.enemyDestroyed,this.ships[y]),u.b(b),this.ships[y].missile&&this.ships[y].missile.status!==c.e.launched&&(r.d.pub(c.b.enemyDestroyed,this.ships[y].missile),this.ships[y].missile.destroy()),this.ctx.clearRect(this.ships[t].x,this.ships[t].y,a.f.widthPx,a.f.heightPx),this.ships.splice(t,1),this.ships.length||r.d.pub(c.b.levelEntityDestroyed,c.b.formation,this)}}},function(t,e,i){"use strict";function n(t){t=t.toString(),t="0".repeat(Math.max(r.k.scoreDigits-t.length,0))+t,g.clearRect(f,r.k.paddingY,t.length*l.meta.boundingBox.width*r.k.fontSize,(l.meta.properties.fontAscent+Math.abs(l.meta.boundingBox.y))*r.k.fontSize),l.write(g,[f,y],t,{size:r.k.fontSize})}function s(t){g.clearRect(b,y-r.f.heightPx,r.e.maxLives*(r.f.width+1)*r.d.pixelSize,r.f.heightPx);for(let e=0;e<t.length;e+=1)t[e].show(g,b+e*(r.f.width+1)*r.d.pixelSize,y-r.f.heightPx)}function h(t){l=u.a(r.k.font),y=r.k.paddingY+(l.meta.properties.fontAscent+l.meta.boundingBox.y)*r.k.fontSize,f=l.write(g,[r.k.paddingX,y],d.a.score,{size:r.k.fontSize}).lineEnd,n(t.score),b=r.d.screenWidth-r.k.paddingX-r.e.maxLives*(r.f.width+1)*r.d.pixelSize,l.write(g,[b,y],d.a.ships,{size:r.k.fontSize,alignment:a.g.right}),s(t.extraShips),c.d.on(a.b.scoreUpdate,n),c.d.on(a.b.shipListUpdate,s)}function o(){c.d.off(n),c.d.off(s)}var r=i(0),a=i(1),c=i(2),u=i(4),d=i(5);e.a=h,e.b=o;let l,f,y,b;const g=document.getElementById("interfaceScreen").getContext("2d")},function(t,e,i){"use strict";function n(t){d=a.a(r.m.font),l=t,u.d.on(c.b.animationFrame,h),y=r.m.opacity.slice(),b=r.m.duration/r.m.opacity.length,f=i.i(u.i)(r.m.color,y.shift()),h(0)}function s(){u.d.off(h),o()}function h(t){b-=t,b<=0&&(y.length?(b+=r.m.duration/r.m.opacity.length,f=i.i(u.i)(r.m.color,y.shift()),o(),d.write(g,[r.d.screenWidth/2,(r.d.fullScreenHeight+d.meta.points*r.m.size)/2],`${l}`,{alignment:c.g.center,size:r.m.size,color:f})):u.d.pub(c.b.introOver))}function o(){g.clearRect(0,(r.d.fullScreenHeight-d.meta.points*r.m.size)/2,r.d.screenWidth,d.meta.points*r.m.size+5)}var r=i(0),a=i(4),c=i(1),u=i(2);e.b=n,e.a=s;let d,l,f,y,b;const g=document.getElementById("interfaceScreen").getContext("2d")},function(t,e,i){"use strict";function n(t){t.forEach((t,e)=>{t.touchAction=t.touchAction||function(){S=e,t.action(),u.d.pub(f.b.cursorRepositioned,x[S].y),a()},u.a.on(f.b.touchStart,{x:0,y:t.y-p.meta.properties.fontAscent*b.r.menuItemSize*b.r.lineHeight,w:b.d.screenWidth,h:p.meta.properties.fontAscent*b.r.menuItemSize*b.r.lineHeight},t.touchAction)})}function s(t){t.forEach(t=>u.a.off(f.b.touchStart,t.touchAction))}function h(t){switch(t){case f.c.arrowUp:S=S-1>=0?S-1:x.length-1,u.d.pub(f.b.cursorRepositioned,x[S].y);break;case f.c.arrowDown:S=S+1<=x.length-1?S+1:0,u.d.pub(f.b.cursorRepositioned,x[S].y);break;case f.c.enter:case f.c.space:x[S].action(),a()}}function o(t){p=d.a(b.r.font),m=i.i(u.i)(b.r.color,1),u.d.on(f.b.keyDown,h),u.d.on(f.b.animationFrame,c),M.y=Math.round((b.d.fullScreenHeight-p.meta.properties.fontAscent*(b.r.titleSize+3*b.r.menuItemSize)*b.r.lineHeight)/2),[E,D,O].forEach(t=>{t[0].y=M.y+p.meta.properties.fontAscent*b.r.titleSize*b.r.lineHeight;for(let e=1;e<t.length;e+=1)t[e].y=t[e-1].y+p.meta.properties.fontAscent*b.r.menuItemSize*b.r.lineHeight}),v=g.c(),t.oldPlayer?(x=O,z={position:t.position,missile:Object.create(t.oldPlayer.lastShip.missileType)},z.missile.armProgress=b.i.armSteps-1,t.position===-1&&(v.push(t.record),z.position=v.length-1)):(x=E,z=null);for(let e=0;e<v.length;e+=1)v[e].label="0".repeat(Math.max(b.r.scoreDigits-v[e].score.toString(10).length,0))+v[e].score,v[e].y=M.y+p.meta.properties.fontAscent*b.r.titleSize*b.r.lineHeight+p.meta.properties.fontAscent*b.r.menuItemSize*b.r.lineHeight*e;return P=0,S=0,b.b.enabled&&n(x),{x:a(),y:x[S].y}}function r(){u.d.off(h),u.d.off(c),s(x),C.clearRect(0,0,b.d.screenWidth,b.d.fullScreenHeight)}function a(){C.clearRect(0,0,b.d.screenWidth,b.d.fullScreenHeight),M.x=p.write(C,[b.d.screenWidth/2,M.y],y.a.title,{alignment:f.g.center,size:b.r.titleSize,color:m}).lineStart,k.x=M.x+b.f.widthPx+b.r.cursorPadding;for(let t=0;t<x.length;t+=1)p.write(C,[k.x,x[t].y],x[t].label,{size:b.r.menuItemSize,color:m});if(x===O)for(let t=0;t<v.length;t+=1)z&&z.position===t&&z.missile.show(C,k.x+(b.f.widthPx-b.i.widthPx)/2,v[t].y-b.f.heightPx+(b.f.heightPx-b.i.heightPx)/2),l.c(C,k.x,v[t].y-b.f.heightPx,v[t].blueprint,v[t].color),p.write(C,[k.x+2*b.f.widthPx,v[t].y],v[t].label,{size:b.r.menuItemSize,color:m});return M.x}function c(t){P+=t,w=i.i(u.i)(b.r.color,1/b.r.fadeSteps*(b.r.fadeSteps-Math.floor(P/(b.r.transitionDuration/b.r.fadeSteps)))),w!==m&&(m=w,a())}var u=i(2),d=i(4),l=i(3),f=i(1),y=i(5),b=i(0),g=i(10);e.a=o,e.b=r;let p,m,w,x,S,P,v,z,M={},k={};const C=document.getElementById("interfaceScreen").getContext("2d"),E=[{label:y.a.play,action(){u.d.off(h),u.d.pub(f.b.menuToGameTransition)}},{label:y.a.highScores,action(){s(E),n(O),x=O,S=0,u.d.pub(f.b.cursorRepositioned,x[S].y)}},{label:y.a.options,action(){s(E),n(D),x=D,S=0,u.d.pub(f.b.cursorRepositioned,x[S].y)}}],D=[{get label(){return y.a.sound+(b.o.on?y.a.on:y.a.off)},action(){i.i(b.a)(f.a.sound,!b.o.on,!0)}},{get label(){return y.a.showFPS+(b.j.showFPS?y.a.on:y.a.off)},action(){i.i(b.a)(f.a.fps,!b.j.showFPS,!0)}},{label:y.a.back,get y(){return this._y+p.meta.properties.fontAscent*b.r.menuItemSize*b.r.lineHeight},set y(t){this._y=t},action(){s(D),n(E),x=E,S=2,u.d.pub(f.b.cursorRepositioned,x[S].y)}}];b.b.enabled&&D.splice(-1,0,{get label(){return y.a.controls+y.a[b.b.controls]},action(){const t=(f.a.controlsOptions.indexOf(b.b.controls)+1)%f.a.controlsOptions.length;i.i(b.a)(f.a.controls,f.a.controlsOptions[t],!0)}});const O=[{label:y.a.back,get y(){return this._y+p.meta.properties.fontAscent*b.r.menuItemSize*b.r.lineHeight*(v.length+1)},set y(t){this._y=t},action(){s(O),n(E),x=E,S=1,u.d.pub(f.b.cursorRepositioned,x[S].y)}}]},function(t,e,i){"use strict";function n(){y.buttonLeft=y.buttonLeft||i.i(d.e)(u.f.buttonLeft,c.b.buttonColor),y.buttonRight=y.buttonRight||i.i(d.e)(u.f.buttonRight,c.b.buttonColor),y.buttonShoot=y.buttonShoot||i.i(d.e)(u.f.buttonShoot,c.b.buttonColor);let t=c.d.screenHeight+Math.floor((c.b.controlPanelHeightPx-c.b.buttonHeightPx)/2);i.i(d.f)(b,y.buttonLeft.ctx,[Math.floor(c.d.screenWidth/4*.5-c.b.buttonWidthPx/2),t],y.buttonLeft.coords,[c.b.buttonWidthPx,c.b.buttonHeightPx]),i.i(d.f)(b,y.buttonRight.ctx,[Math.floor(c.d.screenWidth/4*1.5-c.b.buttonWidthPx/2),t],y.buttonRight.coords,[c.b.buttonWidthPx,c.b.buttonHeightPx]),i.i(d.f)(b,y.buttonShoot.ctx,[Math.floor(c.d.screenWidth/4*3-c.b.buttonWidthPx/2),t],y.buttonShoot.coords,[c.b.buttonWidthPx,c.b.buttonHeightPx]),g=g||{left:{zone:{x:0,y:0,w:c.d.screenWidth/4,h:c.d.fullScreenHeight},events:[{name:u.b.touchStart,action(){d.d.pub(u.b.touchLeft)}},{name:u.b.touchMove,action(){d.d.pub(u.b.touchLeft)}}]},right:{zone:{x:c.d.screenWidth/4,y:0,w:c.d.screenWidth/4,h:c.d.fullScreenHeight},events:[{name:u.b.touchStart,action(){d.d.pub(u.b.touchRight)}},{name:u.b.touchMove,action(){d.d.pub(u.b.touchRight)}}]},move:{zone:{x:0,y:0,w:c.d.screenWidth/4*2.5,h:c.d.fullScreenHeight},events:[{name:u.b.touchEnd,action(){d.d.pub(u.b.touchMoveEnd)}}]},shoot:{zone:{x:c.d.screenWidth/4*2.5,y:0,w:c.d.screenWidth/4*1.5,h:c.d.fullScreenHeight},events:[{name:u.b.touchStart,action(){d.d.pub(u.b.touchShootStart)}},{name:u.b.touchEnd,action(){d.d.pub(u.b.touchShootEnd)}}]}}}function s(){const t=l.a(c.b.controlPanelFont);t.write(b,[c.d.screenWidth/2,c.d.screenHeight+Math.floor((c.b.controlPanelHeightPx-t.meta.properties.fontAscent*c.b.controlPanelFontSize)/2)],f.a.dragToMove,{alignment:u.g.center,size:c.b.controlPanelFontSize}),setTimeout(()=>b.clearRect(0,c.d.screenHeight,c.d.screenWidth,c.b.controlPanelHeightPx),c.b.noticeClearTimeout),p=p||{dragZone:{zone:{x:0,y:0,w:c.d.screenWidth,h:c.d.fullScreenHeight},events:[{name:u.b.touchStart,action(t){d.d.pub(u.b.touchDragMove,t)}},{name:u.b.touchMove,action(t){d.d.pub(u.b.touchDragMove,t)}},{name:u.b.touchEnd,action(){d.d.pub(u.b.touchDragEnd)}}]}}}function h(t){d.d.pub(u.b.gyroData,t.gamma)}function o(){const t=l.a(c.b.controlPanelFont);t.write(b,[c.d.screenWidth/2,c.d.fullScreenHeight-c.b.gyroMessageBottomMargin],f.a.tiltToMove,{alignment:u.g.center,size:c.b.controlPanelFontSize}),setTimeout(()=>b.clearRect(0,c.d.fullScreenHeight-t.meta.properties.fontAscent*c.b.controlPanelFontSize-c.b.gyroMessageBottomMargin,c.d.screenWidth,t.meta.properties.fontAscent*c.b.controlPanelFontSize),c.b.noticeClearTimeout),m=m||{shoot:{zone:{x:0,y:0,w:c.d.screenWidth,h:c.d.fullScreenHeight},events:[{name:u.b.touchStart,action(){d.d.pub(u.b.touchShootStart)}},{name:u.b.touchEnd,action(){d.d.pub(u.b.touchShootEnd)}}]}},window.addEventListener(u.b.deviceOrientation,h),y.buttonShoot=y.buttonShoot||i.i(d.e)(u.f.buttonShoot,c.b.buttonColor),i.i(d.f)(b,y.buttonShoot.ctx,[Math.floor((c.d.screenWidth-c.b.buttonWidthPx)/2),c.d.screenHeight+Math.floor((c.b.controlPanelHeightPx-c.b.buttonHeightPx)/2)],y.buttonShoot.coords,[c.b.buttonWidthPx,c.b.buttonHeightPx])}function r(){let t;switch(c.b.controls){case u.a.buttons:n(),t=g;break;case u.a.drag:s(),t=p;break;case u.a.gyro:o(),t=m}Object.keys(t).forEach(e=>t[e].events.forEach(i=>d.a.on(i.name,t[e].zone,i.action)))}function a(){clearTimeout(w),b.clearRect(0,c.d.screenHeight,c.d.screenWidth,c.b.controlPanelHeightPx);let t;switch(c.b.controls){case u.a.buttons:t=g;break;case u.a.drag:t=p;break;case u.a.gyro:t=m,window.removeEventListener(u.b.deviceOrientation,h)}Object.keys(t).forEach(e=>t[e].events.forEach(t=>d.a.off(t.name,t.action)))}var c=i(0),u=i(1),d=i(2),l=i(4),f=i(5);e.a=r,e.b=a;const y={},b=document.getElementById("interfaceScreen").getContext("2d");let g,p,m,w},function(t,e,i){"use strict";function n(){d=a.a(o.l.font)}function s(){d.write(u,[o.d.screenWidth/2,(o.d.screenHeight+d.meta.points*o.l.titleSize)/2],c.a.paused,{size:o.l.titleSize,alignment:r.g.center}),d.write(u,[o.d.screenWidth/2,(o.d.screenHeight+d.meta.points*(2*o.l.titleSize))/2],o.b.enabled?c.a.tapToContinue:c.a.pressToContinue,{size:o.l.subtitleSize,alignment:r.g.center})}function h(){u.clearRect(0,(o.d.screenHeight-d.meta.points*o.l.titleSize)/2,o.d.screenWidth,d.meta.points*o.l.titleSize*3)}var o=i(0),r=i(1),a=i(4),c=i(5);e.c=n,e.a=s,e.b=h;const u=document.getElementById("interfaceScreen").getContext("2d");let d},function(t,e,i){"use strict";function n(){return t=>Math.sin(2*Math.PI*t)}function s(){return t=>{return t<.25?4*t:t<.75?2-4*t:-4+4*t}}function h(){return t=>t<.5?2*t:-2+2*t}function o(){return(t,e,i)=>t<f.d(i,e)?1:-1}function r(){return t=>y.b(-2,2,.3*Math.tan(Math.PI*t))}function a(){return t=>.75*Math.sin(2*Math.PI*t)+.25*Math.sin(40*Math.PI*t)}function c(){return t=>{const e=y.a(t+Math.sqrt(.75));return-1+2*Math.abs(1-e*e*2)}}function u(){let t=new b.a(1022856099),e=0,i=0,n=0;return(s,h,o)=>{return s=y.a(2*s),s<e&&(i=n,n=t.uniform(-1,1)),e=s,o.interpolateNoise?y.c(i,n,s):n}}function d(){let t=new b.a(1022856099),e=0,i=[0,0,0,0,0,0,0],n=0,s=0;return(h,o,r)=>{if(h=y.a(2*h),h<e){n=s;let e=t.uniform(-1,1);i[0]=.99886*i[0]+.0555179*e,i[1]=.99332*i[1]+.0750759*e,i[2]=.969*i[2]+.153852*e,i[3]=.8665*i[3]+.3104856*e,i[4]=.55*i[4]+.5329522*e,i[5]=-.7616*i[5]+.016898*e,s=(i[0]+i[1]+i[2]+i[3]+i[4]+i[5]+i[6]+.5362*e)/7,i[6]=.115926*e}return e=h,r.interpolateNoise?y.c(n,s,h):s}}function l(t){let e=new b.a(1022856099),i=0,n=0,s=0;return(t,h,o)=>{return t=y.a(2*t),t<i&&(n=s,s=y.b(-1,1,s+.1*e.uniform(-1,1))),i=t,o.interpolateNoise?y.c(n,s,t):s}}Object.defineProperty(e,"__esModule",{value:!0});var f=i(7),y=i(6),b=i(35);e.sine=n,e.triangle=s,e.sawtooth=h,e.square=o,e.tangent=r,e.whistle=a,e.breaker=c,e.whitenoise=u,e.pinknoise=d,e.brownnoise=l},function(t,e,i){"use strict";function n(t){t||(t=Date.now()),this.x=4294967295&t,this.y=362436069,this.z=521288629,this.w=88675123;for(let e=0;e<32;e++)this.uint32()}e.a=n,n.prototype.uint32=function(){const t=this.x^this.x<<11&4294967295;return this.x=this.y,this.y=this.z,this.z=this.w,this.w=this.w^this.w>>>19^(t^t>>>8),this.w+2147483648},n.prototype.uniform=function(t,e){return void 0===t&&void 0===e?(t=0,e=1):void 0===e&&(e=t,t=0),t+(e-t)*this.uint32()/4294967295}},function(t,e,i){"use strict";function n(t){const e=Math.max(1,Math.ceil(t.sampleRate*s.a(t))),i=new Float32Array(e);for(let n=0;n<o.length;n+=1)o[n](t,i);return i}var s=i(7),h=i(37);e.a=n;const o=[h.a,h.b,h.c,h.d,h.e,h.f,h.g,h.h,h.i,h.j]},function(t,e,i){"use strict";function n(t,e){let i=1,n=0,s=[],h=0;for(let o=0;o<=t.harmonics;o++)n+=i,i*=t.harmonicsFalloff,s.push(b[t.waveform]());let r=1/n;for(let a=0;a<e.length;a++){let i=a/t.sampleRate,n=f.b(t,i);h=y.a(h+n/t.sampleRate);let o=0,c=r;for(let u=0;u<=t.harmonics;u++){let e=y.a(h*(u+1));o+=c*s[u](e,i,t),c*=t.harmonicsFalloff}e[a]=o}}function s(t,e){if(0!==t.tremoloDepth)for(let i=0;i<e.length;i++){let n=i/t.sampleRate;e[i]*=1-t.tremoloDepth/100*(.5+.5*Math.cos(2*Math.PI*n*t.tremoloFrequency))}}function h(t,e){if(0!==t.flangerOffset||0!==t.flangerOffsetSweep){const i=new Float32Array(Math.ceil(.1*t.sampleRate));let n=0;for(let s=0;s<e.length;s++){i[n]=e[s];let h=Math.round((t.flangerOffset+s/e.length*t.flangerOffsetSweep)/1e3*t.sampleRate);h=y.b(0,i.length-1,h),e[s]+=i[(n-h+i.length)%i.length],n=(n+1)%i.length}}}function o(t,e){if(0!==t.bitCrush||0!==t.bitCrushSweep)for(let i=0;i<e.length;i++){let n=t.bitCrush+i/e.length*t.bitCrushSweep;n=y.b(1,16,Math.round(n));let s=Math.pow(2,n);e[i]=-1+2*Math.round((.5+.5*e[i])*s)/s}}function r(t,e){if(!(t.lowPassCutoff>=t.sampleRate/2&&t.lowPassCutoff+t.lowPassCutoffSweep>=t.sampleRate/2)){let i=0;for(let n=0;n<e.length;n++){let s,h=n/e.length,o=y.b(0,t.sampleRate/2,t.lowPassCutoff+h*t.lowPassCutoffSweep),r=o/t.sampleRate*Math.PI,a=Math.cos(r);a<=0?s=1:(s=1/a-Math.sqrt(1/(a*a)-1),s=1-s);let c=e[n];c=s*c+(1-s)*i,i=c,e[n]=c}}}function a(t,e){if(!(t.highPassCutoff<=0&&t.highPassCutoff+t.highPassCutoffSweep<=0)){let i=0,n=0;for(let s=0;s<e.length;s++){let h=s/e.length,o=y.b(0,t.sampleRate/2,t.highPassCutoff+h*t.highPassCutoffSweep),r=o/t.sampleRate*Math.PI,a=(1-Math.sin(r))/Math.cos(r),c=e[s],u=c;c=a*(n-i+c),i=u,n=c,e[s]=c}}}function c(t,e){if(0!==t.attack||0!==t.decay)for(let i=0;i<e.length;i++){let n=i/t.sampleRate;e[i]*=f.c(t,n)}}function u(t,e){if(1!==t.compression)for(let i=0;i<e.length;i++){let n=e[i];n=n>=0?Math.pow(n,t.compression):-Math.pow(-n,t.compression),e[i]=n}}function d(t,e){if(t.normalization){let t=0;for(let i=0;i<e.length;i++)t=Math.max(t,Math.abs(e[i]));let n=1/t;for(let i=0;i<e.length;i++)e[i]*=n}}function l(t,e){let i=t.amplification/100;if(1!==i)for(let n=0;n<e.length;n++)e[n]*=i}var f=i(7),y=i(6),b=i(34);e.a=n,e.c=s,e.d=h,e.e=o,e.f=r,e.g=a,e.b=c,e.h=u,e.i=d,e.j=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n={_version:1,_name:"Explosion 14",_locked:[],sampleRate:44100,attack:0,sustain:.09,sustainPunch:0,decay:.4,tremoloDepth:0,tremoloFrequency:10,frequency:1e4,frequencySweep:-2e3,frequencyDeltaSweep:-3e3,repeatFrequency:0,frequencyJump1Onset:33,frequencyJump1Amount:0,frequencyJump2Onset:66,frequencyJump2Amount:0,harmonics:0,harmonicsFalloff:.5,waveform:"brownnoise",interpolateNoise:!1,vibratoDepth:0,vibratoFrequency:10,squareDuty:50,squareDutySweep:0,flangerOffset:0,flangerOffsetSweep:0,bitCrush:16,bitCrushSweep:0,lowPassCutoff:22050,lowPassCutoffSweep:0,highPassCutoff:0,highPassCutoffSweep:0,compression:1,normalization:!0,amplification:100};e.enemy=n;const s={_version:1,_name:"Explosion 26",_locked:[],sampleRate:44100,attack:0,sustain:.6621482533977328,sustainPunch:10,decay:.6845226562003581,tremoloDepth:4,tremoloFrequency:10,frequency:2700,frequencySweep:-4e3,frequencyDeltaSweep:-4300,repeatFrequency:0,frequencyJump1Onset:33,frequencyJump1Amount:0,frequencyJump2Onset:66,frequencyJump2Amount:0,harmonics:1,harmonicsFalloff:.5,waveform:"pinknoise",interpolateNoise:!1,vibratoDepth:0,vibratoFrequency:10,squareDuty:50,squareDutySweep:0,flangerOffset:5,flangerOffsetSweep:0,bitCrush:16,bitCrushSweep:0,lowPassCutoff:22050,lowPassCutoffSweep:0,highPassCutoff:0,highPassCutoffSweep:0,compression:1,normalization:!0,amplification:100};e.player=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n={_version:1,_name:"Laser/shoot 20",_locked:[],sampleRate:44100,attack:0,sustain:.07,sustainPunch:0,decay:.06,tremoloDepth:0,tremoloFrequency:10,frequency:1500,frequencySweep:-600,frequencyDeltaSweep:-1400,repeatFrequency:0,frequencyJump1Onset:33,frequencyJump1Amount:0,frequencyJump2Onset:66,frequencyJump2Amount:0,harmonics:0,harmonicsFalloff:.5,waveform:"triangle",interpolateNoise:!0,vibratoDepth:0,vibratoFrequency:10,squareDuty:40,squareDutySweep:-20,flangerOffset:8,flangerOffsetSweep:-3,bitCrush:16,bitCrushSweep:0,lowPassCutoff:22050,lowPassCutoffSweep:0,highPassCutoff:0,highPassCutoffSweep:0,compression:1,normalization:!0,amplification:100};e.enemy=n;const s={_version:1,_name:"Laser/shoot 28",_locked:[],sampleRate:44100,attack:0,sustain:.06,sustainPunch:40,decay:.03,tremoloDepth:0,tremoloFrequency:10,frequency:1e3,frequencySweep:-500,frequencyDeltaSweep:-300,repeatFrequency:0,frequencyJump1Onset:33,frequencyJump1Amount:0,frequencyJump2Onset:66,frequencyJump2Amount:0,harmonics:0,harmonicsFalloff:.5,waveform:"sine",interpolateNoise:!0,vibratoDepth:460,vibratoFrequency:19,squareDuty:35,squareDutySweep:80,flangerOffset:3,flangerOffsetSweep:-2,bitCrush:16,bitCrushSweep:0,lowPassCutoff:22050,lowPassCutoffSweep:0,highPassCutoff:0,highPassCutoffSweep:0,compression:1,normalization:!0,amplification:100};e.player=s},function(t,e,i){"use strict";function n(t,e,i,n){return!(t>i+s.f.widthPx||e>n+s.f.heightPx||t<i-s.i.widthPx||e<n-s.i.heightPx)}var s=i(0);e.a=n},function(t,e,i){"use strict";function n(t,e,i){return t>=i.x&&e>=i.y&&t<=i.x+i.w&&e<=i.y+i.h}function s(t){d[u.b.touchStart].forEach(e=>{t.touches.length&&Array.prototype.forEach.call(t.touches,t=>n(t.pageX,t.pageY,e.zone)&&e.handler([t.pageX,t.pageY]))})}function h(t){d[u.b.touchEnd].forEach(e=>{t.changedTouches.length&&Array.prototype.forEach.call(t.changedTouches,t=>n(t.pageX,t.pageY,e.zone)&&e.handler())})}function o(t){t.preventDefault(),d[u.b.touchMove].forEach(e=>{t.touches.length&&Array.prototype.forEach.call(t.touches,t=>n(t.pageX,t.pageY,e.zone)&&e.handler([t.pageX,t.pageY]))})}function r(t){t.addEventListener(u.b.touchStart,s),t.addEventListener(u.b.touchEnd,h),t.addEventListener(u.b.touchMove,o)}function a(t,e,i){d[t].push({zone:e,handler:i})}function c(t,e){const i=d[t].findIndex(t=>t.handler===e);i>=0&&d[t].splice(i,1)}Object.defineProperty(e,"__esModule",{value:!0});var u=i(1);e.init=r,e.on=a,e.off=c;const d={[u.b.touchStart]:[],[u.b.touchEnd]:[],[u.b.touchMove]:[]}},function(t,e,i){"use strict";function n(t){if(t.gameOver){const e={score:t.player.score,blueprint:t.player.lastShip.blueprint,color:t.player.lastShip.color},i=o.b(e);y.a({animation:l,data:{player:a.a(),oldPlayer:t.player,position:i,record:e}}).then(t=>n(t))}else t.level=c.a(t.level?t.level.number+1:1),y.a({animation:d,data:t}).then(t=>n(t))}Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),h=i(1),o=i(10),r=i(21),a=i(20),c=i(19),u=i(3),d=i(17),l=i(18),f=i(2),y=i(22);window.location.search.substr(1).split(/[,;&]/).forEach(t=>i.i(s.a)(...t.split("="))),s.b.enabled&&(i.i(s.a)(h.a.screenWidth,Math.min(window.innerWidth,window.innerHeight)),i.i(s.a)(h.a.screenHeight,Math.max(window.innerWidth,window.innerHeight)-s.b.controlPanelHeightPx),f.a.init(document.getElementById("interfaceScreen")));const b=i.i(f.b)(32,32);b.fillStyle=i.i(f.c)(s.c.background),b.fillRect(0,0,31,31),u.a({pixelSize:3}).show(b,5,8),document.getElementById("favicon").href=b.canvas.toDataURL(),["interfaceScreen","backgroundScreen","gameScreen"].map(t=>document.getElementById(t)).forEach(t=>{t.width=s.d.screenWidth,t.height=s.d.fullScreenHeight});const g=document.getElementById("main");g.style.width=s.d.screenWidth+"px",g.style.height=s.d.fullScreenHeight+"px",document.addEventListener(h.b.keyDown,t=>{f.d.pub(h.b.keyDown,t.which,t)}),document.addEventListener(h.b.keyUp,t=>{f.d.pub(h.b.keyUp,t.which,t)}),o.a(),r.a().show(document.getElementById("backgroundScreen").getContext("2d")),y.a({animation:l,data:{player:a.a()}}).then(t=>n(t))}]);
//# sourceMappingURL=main.js.map